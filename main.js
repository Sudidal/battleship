(()=>{"use strict";const t=class{#t;#e;#s;#i;#a;#o=!1;#l=!1;#n=!1;constructor(t,e,s){this.#t=s,this.#e=[t,e]}getPos(){return this.#e}get getGameBoard(){return this.#t}get isAttacked(){return this.#o}get isSafe(){return this.#l}get isHaveShip(){return this.#n}get getShip(){return this.#s}get getDOMElement(){return this.#a}attack(t=!1){(t||this.#t.isClickable())&&(this.#o||this.#l?t&&(this.#o?console.error("bot trying to attack already attacked block"):this.#l&&console.error(`bot trying to attack a safe block: (${this.#e[0]}, ${this.#e[1]})`)):(this.#o=!0,this.#n&&this.#s.sink(),this.#t.hasBeenAttacked(this),this.callDOMUpdateCallback()))}markSafe(){this.#o||this.#l||(this.#l=!0,this.callDOMUpdateCallback())}placeShip(t){this.#n||(this.#s=t,this.#n=!0,this.#t.addShip(),this.callDOMUpdateCallback())}fleetHasSank(){this.callDOMUpdateCallback(),this.#t.fleetHasSank(this)}removeShip(){this.#s=null,this.#n=!1,this.#t.loseShip(),this.callDOMUpdateCallback()}setDOMInfo(t,e){this.#i=e,this.#a=t}callDOMUpdateCallback(){this.#i?this.#i():console.error("DOMUpdateCallback is not assigned")}},e=document.querySelector(".grid-container");function s(t,e,s=null){const i=new CustomEvent("blockrequest",{detail:{callback:e}});console.log(t),t.dispatchEvent(i)}const i=function(t,e,s,i){const a=e[0],o=e[1],l=Array();if(i){const e=t.getBlock(a+1,o);e&&l.push(e);const s=t.getBlock(a-1,o);s&&l.push(s);const i=t.getBlock(a,o-1);i&&l.push(i);const n=t.getBlock(a,o+1);n&&l.push(n)}if(s){const e=t.getBlock(a+1,o-1);e&&l.push(e);const s=t.getBlock(a-1,o-1);s&&l.push(s);const i=t.getBlock(a+1,o+1);i&&l.push(i);const n=t.getBlock(a-1,o+1);n&&l.push(n)}return l};class a{constructor(e,s,i,a=10){this.dimensions=a,this.length=this.dimensions*this.dimensions,this.blocks=Array(this.length),this.hitCallback=null,this.DOMCallback=null,this.shipsCount=0,this.destroyedShipsCount=0,this.cleared=!1,this.clickable=e,this.shipsHidden=s,this.active=!1,this.editable=i,function(e,s){let i=0;for(let a=0;a<e;a++)for(let o=0;o<e;o++){const e=new t(o,a,s);s.getArray()[i]=e,i++}console.log("initialized Grid")}(this.dimensions,this)}isClickable=()=>this.clickable;isShipsHidden=()=>this.shipsHidden;isFinished=()=>this.cleared;isActive=()=>this.active;isEditable=()=>this.editable;getArray=()=>this.blocks;getDimensions=()=>this.dimensions;getLength=()=>this.blocks.filter((()=>!0)).length;getBlock(t,e){return this.blocks.find((s=>s&&s.getPos()[0]===t&&s.getPos()[1]===e))}ready(){(function(t){const s=t.getArray(),i=document.createElement("div");i.className="board",e.append(i),t.setDOMCallback((()=>{!function(t,e){e.removeAttribute("class"),e.classList.add("board"),t.isActive()?e.classList.add("active-board"):e.classList.add("inactive-board")}(t,i)})),s.forEach((t=>{const e=document.createElement("div"),s=document.createElement("div");s.classList.add("sign"),e.append(s),i.append(e),t.setDOMInfo(e,(()=>{!function(t,e){t.removeAttribute("class"),t.classList.add("block"),e.isHaveShip?e.getShip.isSank?e.getShip.isFleetSank?t.classList.add("fleet-sank-block"):t.classList.add("sank-ship-block"):e.getGameBoard.isShipsHidden()||(t.classList.add("ship-block"),e.getGameBoard.isEditable()&&(t.classList.add("custom-draggable"),t.classList.add("coward"))):e.isAttacked?t.classList.add("attacked-block"):e.isSafe&&t.classList.add("safe-block")}(e,t)})),e.addEventListener("click",(()=>{t.attack()})),e.addEventListener("blockrequest",(e=>{e.detail.callback(t)}))})),console.log("Created grid UI")})(this),o(this),this.callDOMCallback()}setBoardState(t,e,s,i){let a=!1,l=!1;this.clickable!==t&&(this.clickable=t),this.shipsHidden!==e&&(this.shipsHidden=e,l=!0),this.editable!==i&&(this.editable=i,a=!0,l=!0),this.active!==s&&(this.active=s,a=!0),a&&(console.log("Updating grid UI"),this.callDOMCallback()),l&&o(this)}hasBeenAttacked(t){t.isHaveShip&&(this.loseShip(),l(this,t.getPos()));const e=t.isHaveShip?"ship":"";this.callHitCallback(e)}fleetHasSank(t){l(this,t.getPos())}addShip=()=>this.shipsCount++;loseShip(){this.destroyedShipsCount++,this.destroyedShipsCount>=this.shipsCount&&(this.cleared=!0)}setHitCallback(t){this.hitCallback||(this.hitCallback=t)}setDOMCallback(t){this.DOMCallback=t}callDOMCallback(){this.DOMCallback?this.DOMCallback():console.error("DOMCallback is not assigned")}callHitCallback(t){this.hitCallback&&this.hitCallback(t)}}function o(t){console.log("Updating all blocks UI"),t.getArray().forEach((t=>{t.callDOMUpdateCallback()}))}function l(t,e){e[0],e[1],i(t,e,!0,!1).forEach((t=>{if(t.isHaveShip)throw new Error(`Cross safe block has a ship! (${t.getPos()[0]}, ${t.getPos()[1]})`);t.markSafe()})),t.getBlock(e[0],e[1]).getShip.isFleetSank&&i(t,e,!1,!0).forEach((t=>{t.markSafe()}))}const n=class{#c=!1;#r=!1;constructor(t,e,s){this.myBlock=e.getBlock(t[0],t[1]),this.myBlock.placeShip(this),this.fleet=s}get isSank(){return this.#c}get isFleetSank(){return this.#r}get getFleet(){return this.fleet}get block(){return this.myBlock}sink(){this.#c=!0,this.fleet.loseShip()}fleetHasSank(){this.#r=!0,this.myBlock.fleetHasSank()}},c=class{#h;#d;#g;#p=0;constructor(t,e,s){this.#g=t,this.#d=Array(this.#g),this.#h=s,this.board=e}getShips=()=>this.#d;getDirection=()=>this.#h;initialize(t){this.occupyBlocks(t)}calculateBlocksToTake(t){let e=Array(),s=t[0],i=t[1];this.#h?s-=Math.floor(this.#g/2):i-=Math.floor(this.#g/2);for(let t=0;t<this.#g;t++)e.push([s,i]),this.#h?s++:i++;return e}loseShip(){this.#p++,this.#p>=this.#g&&this.#d.forEach((t=>{t.fleetHasSank()}))}occupyBlocks(t){this.#d.filter((()=>!0)).length>0&&this.retreat();const e=this.calculateBlocksToTake(t);for(let t=0;t<this.#g;t++){const s=new n(e[t],this.board,this);this.#d[t]=s}}retreat(){for(let t=0;t<this.#d.length;t++)this.#d[t].block.removeShip(),this.#d[t]=null}},r=function(t,e,s,a=null){const o=s[0],l=s[1];let n=!0;if(t.getBlock(o,l).isHaveShip&&a&&t.getBlock(o,l).getShip.fleet!==a.getShip.fleet)return n=!1,n;const c=e.calculateBlocksToTake([o,l]);return c.length>0?c.forEach((s=>{t.getBlock(s[0],s[1])?i(t,s,!0,!0).forEach((t=>{t.isHaveShip&&t.getShip.getFleet!==e&&(n=!1)})):(console.log("out of bounds"),n=!1)})):(console.log("no blocks to take"),n=!1),n};function h(t,e,s=null){if(s){if(s.length<1)return null}else{s=Array(t.getLength());for(let t=0;t<s.length;t++)s[t]=t}const i=Math.floor(Math.random()*(s.length-1)),a=t.getArray()[i];let o;return a&&(o=a.getPos()),r(t,e,o)?o:(s.splice(i,1),h(t,e,s))}const d=[1,1,1,1,2,2,2,3,3,4];function g(t,e,s){let i=null,a=0;for(;!i;)a++,i=p(t,e,s);return console.log("Tried "+a+" times to make a good alignment"),i}function p(t,e,s){const i=new a(t,e,s);for(let t=0;t<d.length;t++){const e=1===Math.floor(2*Math.random()),s=new c(d[t],i,e),a=h(i,s);if(!a)return null;s.initialize(a)}return i}function k(t,e,s=[]){let a=Array(),o=Array();if(i(t,e,!1,!0).forEach((t=>{if(t.isAttacked||t.isSafe){if(t.isHaveShip){let e=!1;if(s.length>0)for(let i=0;i<s.length;i++)s[i]===t&&(e=!0);e||o.push(t)}}else t.isAttacked||t.isSafe||a.push(t)})),a.length>0){const t=Math.floor(Math.random()*(a.length-1));return a[t]}if(o.length>0){const e=Math.floor(Math.random()*(o.length-1)),i=o[e];return console.log("jumped to "+i.getPos()),s.push(i),k(t,i.getPos(),s)}return(s=[]).push(t.getBlock(e[0],e[1])),k(t,e,s)}let f,u,b;function S(){console.log("it's player's turn"),f.setBoardState(!1,!1,!1,!1),u.setBoardState(!0,!0,!0,!1)}function m(){console.log("it's bot's turn"),f.setBoardState(!1,!1,!0,!1),u.setBoardState(!1,!0,!1,!1),b.play()}function y(t){f.setBoardState(!1,!1,!1,!1),u.setBoardState(!1,!1,!1,!1),function(t){v.addEventListener("click",(()=>{window.location.reload()})),v.style.visibility="visible",B.style.fontWeight="bold","player"===t?(B.textContent="You Won!",B.style.color="green"):"bot"===t&&(B.textContent="You Lose",B.style.color="red")}(t)}const v=document.querySelector(".start-btn"),B=document.querySelector(".message");v.addEventListener("click",(()=>{S(),B.textContent="Find enemy's fleets and destroy them",v.style.visibility="hidden"})),B.textContent="drag and drop red blocks to create your alignment, then press start";const M=class{#k=[];constructor(){}add(t){this.#k.push(t)}remove(t){for(let e=0;e<this.#k.length;e++)this.#k[e]===t&&this.#k.splice(e,1)}trigger(t){this.#k.forEach((e=>{e(t)}))}},C=new M,E=new M,A=new M;document.body.addEventListener("mousemove",(t=>{C.trigger(t)})),document.body.addEventListener("mouseup",(t=>{E.trigger(t)})),document.body.addEventListener("mousedown",(t=>{A.trigger(t)}));const w="custom-droppable";let D=null,L=null,O=null,H=!0;function U(t,e,s,i){if(H)P(e,s,i);else{if(!O)throw new Error("no move callback specified");O(t,e,s,i)}}function F(t){console.log("started dragging");const e=t.target;let s=e;e.classList.contains("coward")&&(s=e.cloneNode(!0),e.append(s),s.classList.add("drag-clone")),console.log(`${t.offsetX} ${t.offsetY}`);let i=t.offsetX,a=t.offsetY,o=!0;function l(t){console.log("being dragged"),U(t,s,t.pageX-i,t.pageY-a)}E.add((function t(s){o&&(console.log("not being dragged anymore"),o=!1,C.remove(l),E.remove(t),function(t,e){if(H)!function(t,e){e.style.position="static",e.style.pointerEvents="auto",console.log(t.target),t.target&&t.target.classList.contains(w)&&t.target.append(e),e!=e&&e.remove()}(t,e);else{if(!L)throw new Error("no drop callback specified");L(t,e)}}(s,e))})),C.add(l),s.style.pointerEvents="none",console.log("setting document body height to 100vh, remove it or edit it if you want"),document.body.style.height="100vh",U(t,s,t.pageX-i,t.pageY-a)}function P(t,e,s){console.log(e),console.log(s),t.style.position="absolute",t.style.top=`${s}px`,t.style.left=`${e}px`}A.add((function(t){if(t.target.classList.contains("custom-draggable"))if(console.log(H),H)F(t);else{if(!D)throw new Error("no drag callback specified");D(t)}}));let x=null,T=null;var Y;function z(t,e,s,i){console.log("moving");let a=!1;if(t&&t.getGameBoard===T.getGameBoard){const e=t.getPos();a=r(T.getGameBoard,T.getShip.getFleet,e,T)}e.className=a?"valid-floaty-ship":"invalid-floaty-ship",console.log("did the job"),P(e,s,i)}function X(t,e,s,i){const a=i.getShip.getFleet;if(s){const t=s.getPos();r(i.getGameBoard,a,t)&&a.initialize(t)}e.remove(),i=null}H=!1,Y=function(t){x=t,s(t.target,(e=>{!function(t,e){T=t;const s=t.getShip.getFleet,i=s.getDirection(),a=s.getShips(),o=document.createElement("div");x.target.parentElement.append(o),a.forEach((t=>{const e=t.block.getDOMElement.cloneNode(!0);e.className="floaty-block",o.append(e)})),console.log("clone");let l=getComputedStyle(o).width,n=getComputedStyle(o).height,c="";if(i){const t=l;l=n,n=t,c="row"}else c="column";o.style.display="flex",o.style.position="absolute",o.style.pointerEvents="none",o.style.flexDirection=`${c}`,o.style.width=l,o.style.height=n;const r={target:o,pageX:x.pageX,pageY:x.pageY,offsetX:parseFloat(l)/2,offsetY:parseFloat(n)/2};F(r),z(T,o,r.pageX-r.offsetX,r.pageY-r.offsetY)}(e,t.target)}))},D||(D=Y),O||(O=function(t,e,i,a){t.target.classList.contains("block")?s(t.target,(t=>{z(t,e,i,a)})):z(null,e,i,a)}),L||(L=function(t,e){x=null;const i=t.target;i.classList.contains("block")?s(i,(t=>{X(0,e,t,T)})):X(0,e,null,T)}),document.body.addEventListener("dragstart",(t=>{t.preventDefault()})),f=g(!1,!1,!0),u=g(!1,!0,!1),b=new class{#f=3e3;#u=250;#b;#S;#m=null;#y=null;attackedAShip=!1;constructor(t,e){this.#b=e,this.#S=t,this.length=t.getLength(),this.availableBlocks=Array(this.length);for(let t=0;t<this.length;t++)this.availableBlocks[t]=t}play(){const t=(e=this.#f,s=this.#u,Math.floor(Math.random()*(s-e)+e));var e,s,i;console.log(t),(i=t,new Promise((t=>setTimeout(t,i)))).then((()=>{const t=function(t,e){if(function(t,e){for(let s=0;s<t.length;s++){const i=t[s];(e[i].isSafe||e[i].isAttacked)&&t.splice(s,1)}}(e.getAvailableBlocks(),t.getArray()),e.getAvailableBlocks().length<1)throw new Error("Bot array is out of indexes before the game ends");let s,i=e.getLastAttacked(),a=e.getTargetBlock();return a?a.getShip.isFleetSank?(console.log("the fleet i targeted already sank, i'll forget it"),a=null):console.log("the fleet i targeted didn't sink yet"):i&&i.isHaveShip&&!i.getShip.isFleetSank&&(console.log("I started targeting a new fleet"),a=i),s=a?k(t,a.getPos()):function(t,e){let s;const i=Math.floor(Math.random()*(t.length-1));if(i>t.length-1||i<0)throw new Error("Index out of array bounds, Index: "+i+", Array: "+t);{const a=t[i];s=e.getArray()[a]}return s}(e.getAvailableBlocks(),t),s}(this.#b,this);if(!t)throw new Error("Bot failed to find a block");this.setLastAttacked(t),t.isHaveShip&&this.setTargetBlock(t),t.attack(!0)}))}getAvailableBlocks=()=>this.availableBlocks;getLastAttacked=()=>this.#m;getTargetBlock=()=>this.#y;setLastAttacked=t=>this.#m=t;setTargetBlock=t=>this.#y=t}(u,f),f.setHitCallback((t=>{f.isFinished()?y("bot"):"ship"===t?m():S()})),u.setHitCallback((t=>{u.isFinished()?y("player"):"ship"===t?S():m()})),f.ready(),u.ready()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWM0SCxFQUFJdk0sT0FBUyxHQUFLMkUsRUFBYyxFQUNoRCxNQUFNLElBQUl4QixNQUNSLHFDQUF1Q3dCLEVBQWMsWUFBYzRILEdBRWhFLENBQ0wsTUFBTUMsRUFBUUQsRUFBSTVILEdBQ2xCaUgsRUFBY2pOLEVBQU1nQyxXQUFXNkwsRUFDakMsQ0FDQSxPQUFPWixDQUNULENBakJrQmEsQ0FBa0JaLEVBQVdLLHFCQUFzQnZOLEdBRTVEaU4sQ0FDVCxDQXpEMEJjLENBQVduUSxNQUFLLEVBQWdCQSxNQUVwRCxJQUFJcVAsRUFPRixNQUFNLElBQUl6SSxNQUFNLDhCQU5oQjVHLEtBQUtvUSxnQkFBZ0JmLEdBQ2pCQSxFQUFZaFAsWUFDZEwsS0FBS3FRLGVBQWVoQixHQUV0QkEsRUFBWTdPLFFBQU8sRUFHckIsR0FFSixDQUVBbVAsbUJBQXFCQSxJQUFNM1AsS0FBSzRPLGdCQUNoQ2lCLGdCQUFrQkEsSUFBTTdQLE1BQUssRUFDN0IrUCxlQUFpQkEsSUFBTS9QLE1BQUssRUFFNUJvUSxnQkFBbUJ2RCxHQUFXN00sTUFBSyxFQUFnQjZNLEVBQ25Ed0QsZUFBa0J4RCxHQUFXN00sTUFBSyxFQUFlNk0sR0N0QzVCckQsRUFBVUQsR0FFL0JBLEVBQVk3QyxnQkFBZ0I0SixJQUN0Qi9HLEVBQVloRixhQUNkcUYsRUFBSSxPQUVVLFNBQVYwRyxFQUNGNUcsSUFFQUQsR0FFSixJQUVGRCxFQUFTOUMsZ0JBQWdCNEosSUFDbkI5RyxFQUFTakYsYUFDWHFGLEVBQUksVUFFVSxTQUFWMEcsRUFDRjdHLElBRUFDLEdBRUosSUFHRkgsRUFBWXhFLFFBQ1p5RSxFQUFTekUsTyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9ibG9jay5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvYm9hcmRVSS5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvZ2V0U29ycm91bmRpbmdCbG9ja3MuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvZmxlZXQuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2NoZWNrQmxvY2tWYWxpZGl0eS5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvYmxvY2tzQWxpZ25lci5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvaW5pdGlhbGl6ZXIuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2F1dG9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3BsYXllclZTUm9ib3QuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1VJLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9yZWxvYWRQYWdlLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3lzdGVtL2NTaGFycEV2ZW50LmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3lzdGVtL21vdXNlRXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3lzdGVtL2RyYWdIYW5kbGVyLmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9kcmFnQW5kRHJvcFNoaXAuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9nZXRSYW5kb21BcmJpdHJhcnkuanMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0ludm9rZVdpdGhEZWxheS5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvcmVtb3ZlVW5hdmFpbGFibGVCbG9ja3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQmxvY2sge1xuICAjYm9hcmQ7XG4gICNwb3M7XG4gICNteVNoaXA7XG4gICNET01VcGRhdGVDYWxsYmFjaztcbiAgI0RPTUVlbGVtZW50O1xuICAjYXR0YWNrZWQgPSBmYWxzZTtcbiAgI3NhZmUgPSBmYWxzZTtcbiAgI2hhdmVTaGlwID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoeCwgeSwgZ2FtZUJvYXJkKSB7XG4gICAgdGhpcy4jYm9hcmQgPSBnYW1lQm9hcmQ7XG4gICAgdGhpcy4jcG9zID0gW3gsIHldO1xuICB9XG5cbiAgZ2V0UG9zKCkge1xuICAgIHJldHVybiB0aGlzLiNwb3M7XG4gIH1cbiAgZ2V0IGdldEdhbWVCb2FyZCgpIHtcbiAgICByZXR1cm4gdGhpcy4jYm9hcmQ7XG4gIH1cbiAgZ2V0IGlzQXR0YWNrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2F0dGFja2VkO1xuICB9XG4gIGdldCBpc1NhZmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3NhZmU7XG4gIH1cbiAgZ2V0IGlzSGF2ZVNoaXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2hhdmVTaGlwO1xuICB9XG4gIGdldCBnZXRTaGlwKCkge1xuICAgIHJldHVybiB0aGlzLiNteVNoaXA7XG4gIH1cbiAgZ2V0IGdldERPTUVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI0RPTUVlbGVtZW50O1xuICB9XG5cbiAgYXR0YWNrKGJvdCA9IGZhbHNlKSB7XG4gICAgaWYgKCFib3QgJiYgIXRoaXMuI2JvYXJkLmlzQ2xpY2thYmxlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuI2F0dGFja2VkICYmICF0aGlzLiNzYWZlKSB7XG4gICAgICB0aGlzLiNhdHRhY2tlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy4jaGF2ZVNoaXApIHtcbiAgICAgICAgdGhpcy4jbXlTaGlwLnNpbmsoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuI2JvYXJkLmhhc0JlZW5BdHRhY2tlZCh0aGlzKTtcbiAgICAgIHRoaXMuY2FsbERPTVVwZGF0ZUNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIGlmIChib3QpIHtcbiAgICAgIGlmICh0aGlzLiNhdHRhY2tlZClcbiAgICAgICAgY29uc29sZS5lcnJvcihcImJvdCB0cnlpbmcgdG8gYXR0YWNrIGFscmVhZHkgYXR0YWNrZWQgYmxvY2tcIik7XG4gICAgICBlbHNlIGlmICh0aGlzLiNzYWZlKVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIGBib3QgdHJ5aW5nIHRvIGF0dGFjayBhIHNhZmUgYmxvY2s6ICgke3RoaXMuI3Bvc1swXX0sICR7dGhpcy4jcG9zWzFdfSlgLFxuICAgICAgICApO1xuICAgIH1cbiAgfVxuICBtYXJrU2FmZSgpIHtcbiAgICBpZiAoIXRoaXMuI2F0dGFja2VkICYmICF0aGlzLiNzYWZlKSB7XG4gICAgICB0aGlzLiNzYWZlID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FsbERPTVVwZGF0ZUNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG4gIHBsYWNlU2hpcChzaGlwKSB7XG4gICAgaWYgKCF0aGlzLiNoYXZlU2hpcCkge1xuICAgICAgdGhpcy4jbXlTaGlwID0gc2hpcDtcbiAgICAgIHRoaXMuI2hhdmVTaGlwID0gdHJ1ZTtcbiAgICAgIHRoaXMuI2JvYXJkLmFkZFNoaXAoKTtcbiAgICAgIHRoaXMuY2FsbERPTVVwZGF0ZUNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG4gIGZsZWV0SGFzU2FuaygpIHtcbiAgICB0aGlzLmNhbGxET01VcGRhdGVDYWxsYmFjaygpO1xuICAgIHRoaXMuI2JvYXJkLmZsZWV0SGFzU2Fuayh0aGlzKTtcbiAgfVxuICByZW1vdmVTaGlwKCkge1xuICAgIHRoaXMuI215U2hpcCA9IG51bGw7XG4gICAgdGhpcy4jaGF2ZVNoaXAgPSBmYWxzZTtcbiAgICB0aGlzLiNib2FyZC5sb3NlU2hpcCgpO1xuICAgIHRoaXMuY2FsbERPTVVwZGF0ZUNhbGxiYWNrKCk7XG4gIH1cbiAgc2V0RE9NSW5mbyhlbGVtZW50LCBjYWxsYmFjaykge1xuICAgIHRoaXMuI0RPTVVwZGF0ZUNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy4jRE9NRWVsZW1lbnQgPSBlbGVtZW50O1xuICB9XG4gIGNhbGxET01VcGRhdGVDYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy4jRE9NVXBkYXRlQ2FsbGJhY2spIHRoaXMuI0RPTVVwZGF0ZUNhbGxiYWNrKCk7XG4gICAgZWxzZSBjb25zb2xlLmVycm9yKFwiRE9NVXBkYXRlQ2FsbGJhY2sgaXMgbm90IGFzc2lnbmVkXCIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJsb2NrO1xuIiwiY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJcIik7XG5cbmNvbnN0IEJvYXJkX0NMQVNTID0gXCJib2FyZFwiO1xuY29uc3QgQUNUSVZFX0JvYXJkX0NMQVNTID0gXCJhY3RpdmUtYm9hcmRcIjtcbmNvbnN0IElOQUNUSVZFX0JvYXJkX0NMQVNTID0gXCJpbmFjdGl2ZS1ib2FyZFwiO1xuXG5jb25zdCBCTE9DS19DTEFTUyA9IFwiYmxvY2tcIjtcbmNvbnN0IFNISVBfQkxPQ0tfQ0xBU1MgPSBcInNoaXAtYmxvY2tcIjtcbmNvbnN0IFNBTktfU0hJUF9CTE9DS19DTEFTUyA9IFwic2Fuay1zaGlwLWJsb2NrXCI7XG5jb25zdCBGTEVFVF9TQU5LX1NISVBfQkxPQ0tfQ0xBU1MgPSBcImZsZWV0LXNhbmstYmxvY2tcIjtcbmNvbnN0IEFUVEFDS0VEX0JMT0NLX0NMQVNTID0gXCJhdHRhY2tlZC1ibG9ja1wiO1xuY29uc3QgU0FGRV9CTE9DS19DTEFTUyA9IFwic2FmZS1ibG9ja1wiO1xuXG5jb25zdCBEUkFHR0FCTEVfQ0xBU1MgPSBcImN1c3RvbS1kcmFnZ2FibGVcIjtcbmNvbnN0IENPV0FSREdMQVNTID0gXCJjb3dhcmRcIjtcblxuZnVuY3Rpb24gY3JlYXRlR3JpZFVJKGJvYXJkKSB7XG4gIGNvbnN0IGJsb2NrcyA9IGJvYXJkLmdldEFycmF5KCk7XG5cbiAgY29uc3QgYm9hcmRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYm9hcmRFbGVtZW50LmNsYXNzTmFtZSA9IFwiYm9hcmRcIjtcbiAgZ3JpZENvbnRhaW5lci5hcHBlbmQoYm9hcmRFbGVtZW50KTtcbiAgYm9hcmQuc2V0RE9NQ2FsbGJhY2soKCkgPT4ge1xuICAgIHVwZGF0ZUJvYXJkRWxlbWVudChib2FyZCwgYm9hcmRFbGVtZW50KTtcbiAgfSk7XG5cbiAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgZWxlbWVudFNpZ24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVsZW1lbnRTaWduLmNsYXNzTGlzdC5hZGQoXCJzaWduXCIpO1xuICAgIG5ld0VsZW1lbnQuYXBwZW5kKGVsZW1lbnRTaWduKTtcbiAgICBib2FyZEVsZW1lbnQuYXBwZW5kKG5ld0VsZW1lbnQpO1xuICAgIGJsb2NrLnNldERPTUluZm8obmV3RWxlbWVudCwgKCkgPT4ge1xuICAgICAgdXBkYXRlQmxvY2tFbGVtZW50KG5ld0VsZW1lbnQsIGJsb2NrKTtcbiAgICB9KTtcbiAgICBuZXdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBibG9jay5hdHRhY2soKTtcbiAgICB9KTtcbiAgICBuZXdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJibG9ja3JlcXVlc3RcIiwgKGV2KSA9PiB7XG4gICAgICBldi5kZXRhaWwuY2FsbGJhY2soYmxvY2spO1xuICAgIH0pO1xuICB9KTtcbiAgY29uc29sZS5sb2coXCJDcmVhdGVkIGdyaWQgVUlcIik7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUJsb2NrRWxlbWVudChlbGVtZW50LCBibG9jaykge1xuICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoQkxPQ0tfQ0xBU1MpO1xuXG4gIGlmIChibG9jay5pc0hhdmVTaGlwKSB7XG4gICAgaWYgKGJsb2NrLmdldFNoaXAuaXNTYW5rKSB7XG4gICAgICBpZiAoYmxvY2suZ2V0U2hpcC5pc0ZsZWV0U2Fuaykge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoRkxFRVRfU0FOS19TSElQX0JMT0NLX0NMQVNTKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChTQU5LX1NISVBfQkxPQ0tfQ0xBU1MpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWJsb2NrLmdldEdhbWVCb2FyZC5pc1NoaXBzSGlkZGVuKCkpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNISVBfQkxPQ0tfQ0xBU1MpO1xuICAgICAgICBpZiAoYmxvY2suZ2V0R2FtZUJvYXJkLmlzRWRpdGFibGUoKSkge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChEUkFHR0FCTEVfQ0xBU1MpO1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChDT1dBUkRHTEFTUyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJsb2NrLmlzQXR0YWNrZWQpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChBVFRBQ0tFRF9CTE9DS19DTEFTUyk7XG4gICAgfSBlbHNlIGlmIChibG9jay5pc1NhZmUpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChTQUZFX0JMT0NLX0NMQVNTKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQm9hcmRFbGVtZW50KGJvYXJkLCBib2FyZEVsZW1lbnQpIHtcbiAgYm9hcmRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICBib2FyZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChCb2FyZF9DTEFTUyk7XG4gIGlmIChib2FyZC5pc0FjdGl2ZSgpKSB7XG4gICAgYm9hcmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoQUNUSVZFX0JvYXJkX0NMQVNTKTtcbiAgfSBlbHNlIHtcbiAgICBib2FyZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChJTkFDVElWRV9Cb2FyZF9DTEFTUyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVxdWVzdEJsb2NrKGVsZW1lbnQsIGNhbGxiYWNrLCBmYWxsYmFjayA9IG51bGwpIHtcbiAgY29uc3QgZGF0YSA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrIH07XG4gIGNvbnN0IGJsb2NrUmVxdWVzdEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiYmxvY2tyZXF1ZXN0XCIsIHsgZGV0YWlsOiBkYXRhIH0pO1xuICBjb25zb2xlLmxvZyhlbGVtZW50KTtcbiAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGJsb2NrUmVxdWVzdEV2ZW50KTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlR3JpZFVJLCByZXF1ZXN0QmxvY2sgfTtcbiIsImZ1bmN0aW9uIGdldFNvcnJvdW5kaW5nQmxvY2tzKGJvYXJkLCBwb3MsIGNyb3NzLCBsaW5lYXIpIHtcbiAgY29uc3QgeCA9IHBvc1swXTtcbiAgY29uc3QgeSA9IHBvc1sxXTtcbiAgY29uc3Qgc29ycm91bmRpbmdzID0gQXJyYXkoKTtcblxuICBpZiAobGluZWFyKSB7XG4gICAgLy8gcmlnaHRcbiAgICBjb25zdCByaWdodCA9IGJvYXJkLmdldEJsb2NrKHggKyAxLCB5KTtcbiAgICBpZiAocmlnaHQpIHtcbiAgICAgIHNvcnJvdW5kaW5ncy5wdXNoKHJpZ2h0KTtcbiAgICB9XG4gICAgLy8gbGVmdFxuICAgIGNvbnN0IGxlZnQgPSBib2FyZC5nZXRCbG9jayh4IC0gMSwgeSk7XG4gICAgaWYgKGxlZnQpIHtcbiAgICAgIHNvcnJvdW5kaW5ncy5wdXNoKGxlZnQpO1xuICAgIH1cbiAgICAvLyB1cFxuICAgIGNvbnN0IHVwID0gYm9hcmQuZ2V0QmxvY2soeCwgeSAtIDEpO1xuICAgIGlmICh1cCkge1xuICAgICAgc29ycm91bmRpbmdzLnB1c2godXApO1xuICAgIH1cbiAgICAvLyBkb3duXG4gICAgY29uc3QgZG93biA9IGJvYXJkLmdldEJsb2NrKHgsIHkgKyAxKTtcbiAgICBpZiAoZG93bikge1xuICAgICAgc29ycm91bmRpbmdzLnB1c2goZG93bik7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNyb3NzKSB7XG4gICAgLy8gdXBwZXIgcmlnaHRcbiAgICBjb25zdCB1cHBlclJpZ2h0ID0gYm9hcmQuZ2V0QmxvY2soeCArIDEsIHkgLSAxKTtcbiAgICBpZiAodXBwZXJSaWdodCkge1xuICAgICAgc29ycm91bmRpbmdzLnB1c2godXBwZXJSaWdodCk7XG4gICAgfVxuICAgIC8vIHVwcGVyIGxlZnRcbiAgICBjb25zdCB1cHBlckxlZnQgPSBib2FyZC5nZXRCbG9jayh4IC0gMSwgeSAtIDEpO1xuICAgIGlmICh1cHBlckxlZnQpIHtcbiAgICAgIHNvcnJvdW5kaW5ncy5wdXNoKHVwcGVyTGVmdCk7XG4gICAgfVxuICAgIC8vIGJvdHRvbSByaWdodFxuICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gYm9hcmQuZ2V0QmxvY2soeCArIDEsIHkgKyAxKTtcbiAgICBpZiAoYm90dG9tUmlnaHQpIHtcbiAgICAgIHNvcnJvdW5kaW5ncy5wdXNoKGJvdHRvbVJpZ2h0KTtcbiAgICB9XG4gICAgLy8gYm90dG9tIGxlZnRcbiAgICBjb25zdCBib3R0b21MZWZ0ID0gYm9hcmQuZ2V0QmxvY2soeCAtIDEsIHkgKyAxKTtcbiAgICBpZiAoYm90dG9tTGVmdCkge1xuICAgICAgc29ycm91bmRpbmdzLnB1c2goYm90dG9tTGVmdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzb3Jyb3VuZGluZ3M7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFNvcnJvdW5kaW5nQmxvY2tzO1xuIiwiaW1wb3J0IEJsb2NrIGZyb20gXCIuL2Jsb2NrLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVHcmlkVUkgfSBmcm9tIFwiLi9ib2FyZFVJLmpzXCI7XG5pbXBvcnQgZ2V0U29ycm91bmRpbmdCbG9ja3MgZnJvbSBcIi4vZ2V0U29ycm91bmRpbmdCbG9ja3MuanNcIjtcblxuY2xhc3MgR2FtZUJvYXJkIHtcbiAgY29uc3RydWN0b3IoY2xpY2thYmxlLCBzaGlwc0hpZGRlbiwgZWRpdGFibGUsIGRpbWVuc2lvbnMgPSAxMCkge1xuICAgIHRoaXMuZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLmRpbWVuc2lvbnMgKiB0aGlzLmRpbWVuc2lvbnM7XG4gICAgdGhpcy5ibG9ja3MgPSBBcnJheSh0aGlzLmxlbmd0aCk7XG4gICAgdGhpcy5oaXRDYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5ET01DYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5zaGlwc0NvdW50ID0gMDtcbiAgICB0aGlzLmRlc3Ryb3llZFNoaXBzQ291bnQgPSAwO1xuICAgIHRoaXMuY2xlYXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2xpY2thYmxlID0gY2xpY2thYmxlO1xuICAgIHRoaXMuc2hpcHNIaWRkZW4gPSBzaGlwc0hpZGRlbjtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuZWRpdGFibGUgPSBlZGl0YWJsZTtcbiAgICBpbml0aWFsaXplR3JpZCh0aGlzLmRpbWVuc2lvbnMsIHRoaXMpO1xuICB9XG5cbiAgaXNDbGlja2FibGUgPSAoKSA9PiB0aGlzLmNsaWNrYWJsZTtcbiAgaXNTaGlwc0hpZGRlbiA9ICgpID0+IHRoaXMuc2hpcHNIaWRkZW47XG4gIGlzRmluaXNoZWQgPSAoKSA9PiB0aGlzLmNsZWFyZWQ7XG4gIGlzQWN0aXZlID0gKCkgPT4gdGhpcy5hY3RpdmU7XG4gIGlzRWRpdGFibGUgPSAoKSA9PiB0aGlzLmVkaXRhYmxlO1xuICBnZXRBcnJheSA9ICgpID0+IHRoaXMuYmxvY2tzO1xuICBnZXREaW1lbnNpb25zID0gKCkgPT4gdGhpcy5kaW1lbnNpb25zO1xuICBnZXRMZW5ndGggPSAoKSA9PiB0aGlzLmJsb2Nrcy5maWx0ZXIoKCkgPT4gdHJ1ZSkubGVuZ3RoO1xuICBnZXRCbG9jayh4LCB5KSB7XG4gICAgY29uc3QgYmxvY2sgPSB0aGlzLmJsb2Nrcy5maW5kKFxuICAgICAgKGl0ZW0pID0+IGl0ZW0gJiYgaXRlbS5nZXRQb3MoKVswXSA9PT0geCAmJiBpdGVtLmdldFBvcygpWzFdID09PSB5LFxuICAgICk7XG4gICAgcmV0dXJuIGJsb2NrO1xuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgY3JlYXRlR3JpZFVJKHRoaXMpO1xuICAgIHVwZGF0ZUFMTEJsb2Nrc1VJKHRoaXMpO1xuICAgIHRoaXMuY2FsbERPTUNhbGxiYWNrKCk7XG4gIH1cbiAgc2V0Qm9hcmRTdGF0ZShjbGlja2FibGUsIHNoaXBzSGlkZGVuLCBhY3RpdmUsIGVkaXRhYmxlKSB7XG4gICAgbGV0IGdyaWROZWVkVXBkYXRlID0gZmFsc2U7XG4gICAgbGV0IGJsb2Nrc05lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5jbGlja2FibGUgIT09IGNsaWNrYWJsZSkge1xuICAgICAgdGhpcy5jbGlja2FibGUgPSBjbGlja2FibGU7XG4gICAgfVxuICAgIGlmICh0aGlzLnNoaXBzSGlkZGVuICE9PSBzaGlwc0hpZGRlbikge1xuICAgICAgdGhpcy5zaGlwc0hpZGRlbiA9IHNoaXBzSGlkZGVuO1xuICAgICAgYmxvY2tzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmVkaXRhYmxlICE9PSBlZGl0YWJsZSkge1xuICAgICAgdGhpcy5lZGl0YWJsZSA9IGVkaXRhYmxlO1xuICAgICAgZ3JpZE5lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgYmxvY2tzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmFjdGl2ZSAhPT0gYWN0aXZlKSB7XG4gICAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgIGdyaWROZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGdyaWROZWVkVXBkYXRlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIGdyaWQgVUlcIik7XG4gICAgICB0aGlzLmNhbGxET01DYWxsYmFjaygpO1xuICAgIH1cbiAgICBpZiAoYmxvY2tzTmVlZFVwZGF0ZSkge1xuICAgICAgdXBkYXRlQUxMQmxvY2tzVUkodGhpcyk7XG4gICAgfVxuICB9XG4gIGhhc0JlZW5BdHRhY2tlZChibG9jaykge1xuICAgIGlmIChibG9jay5pc0hhdmVTaGlwKSB7XG4gICAgICB0aGlzLmxvc2VTaGlwKCk7XG4gICAgICBtYXJrU2FmZUJsb2Nrcyh0aGlzLCBibG9jay5nZXRQb3MoKSk7XG4gICAgfVxuICAgIGNvbnN0IGFyZ3MgPSBibG9jay5pc0hhdmVTaGlwID8gXCJzaGlwXCIgOiBcIlwiO1xuICAgIHRoaXMuY2FsbEhpdENhbGxiYWNrKGFyZ3MpO1xuICB9XG4gIGZsZWV0SGFzU2FuayhibG9jaykge1xuICAgIG1hcmtTYWZlQmxvY2tzKHRoaXMsIGJsb2NrLmdldFBvcygpKTtcbiAgfVxuICBhZGRTaGlwID0gKCkgPT4gdGhpcy5zaGlwc0NvdW50Kys7XG4gIGxvc2VTaGlwKCkge1xuICAgIHRoaXMuZGVzdHJveWVkU2hpcHNDb3VudCsrO1xuICAgIGlmICh0aGlzLmRlc3Ryb3llZFNoaXBzQ291bnQgPj0gdGhpcy5zaGlwc0NvdW50KSB7XG4gICAgICB0aGlzLmNsZWFyZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNldEhpdENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0aGlzLmhpdENhbGxiYWNrKSB7XG4gICAgICB0aGlzLmhpdENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICB9XG4gIHNldERPTUNhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5ET01DYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9XG4gIGNhbGxET01DYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy5ET01DYWxsYmFjaykge1xuICAgICAgdGhpcy5ET01DYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRE9NQ2FsbGJhY2sgaXMgbm90IGFzc2lnbmVkXCIpO1xuICAgIH1cbiAgfVxuICBjYWxsSGl0Q2FsbGJhY2soYXJncykge1xuICAgIGlmICh0aGlzLmhpdENhbGxiYWNrKSB7XG4gICAgICB0aGlzLmhpdENhbGxiYWNrKGFyZ3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplR3JpZChkaW1lbnNpb25zLCBib2FyZCkge1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGxldCB5ID0gMDsgeSA8IGRpbWVuc2lvbnM7IHkrKykge1xuICAgIGZvciAobGV0IHggPSAwOyB4IDwgZGltZW5zaW9uczsgeCsrKSB7XG4gICAgICBjb25zdCBibG9jayA9IG5ldyBCbG9jayh4LCB5LCBib2FyZCk7XG4gICAgICBib2FyZC5nZXRBcnJheSgpW2NvdW50XSA9IGJsb2NrO1xuICAgICAgY291bnQrKztcbiAgICB9XG4gIH1cbiAgY29uc29sZS5sb2coXCJpbml0aWFsaXplZCBHcmlkXCIpO1xufVxuZnVuY3Rpb24gdXBkYXRlQUxMQmxvY2tzVUkoYm9hcmQpIHtcbiAgY29uc29sZS5sb2coXCJVcGRhdGluZyBhbGwgYmxvY2tzIFVJXCIpO1xuICBib2FyZC5nZXRBcnJheSgpLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgYmxvY2suY2FsbERPTVVwZGF0ZUNhbGxiYWNrKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtYXJrU2FmZUJsb2Nrcyhib2FyZCwgcG9zKSB7XG4gIGxldCB4ID0gcG9zWzBdO1xuICBsZXQgeSA9IHBvc1sxXTtcblxuICBjb25zdCBjcm9zc1NhZmVCbG9ja3MgPSBnZXRTb3Jyb3VuZGluZ0Jsb2Nrcyhib2FyZCwgcG9zLCB0cnVlLCBmYWxzZSk7XG5cbiAgY3Jvc3NTYWZlQmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgaWYgKCFibG9jay5pc0hhdmVTaGlwKSBibG9jay5tYXJrU2FmZSgpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENyb3NzIHNhZmUgYmxvY2sgaGFzIGEgc2hpcCEgKCR7YmxvY2suZ2V0UG9zKClbMF19LCAke2Jsb2NrLmdldFBvcygpWzFdfSlgLFxuICAgICAgKTtcbiAgfSk7XG5cbiAgaWYgKGJvYXJkLmdldEJsb2NrKHBvc1swXSwgcG9zWzFdKS5nZXRTaGlwLmlzRmxlZXRTYW5rKSB7XG4gICAgY29uc3QgbGluZWFyU2FmZUJsb2NrcyA9IGdldFNvcnJvdW5kaW5nQmxvY2tzKGJvYXJkLCBwb3MsIGZhbHNlLCB0cnVlKTtcbiAgICBsaW5lYXJTYWZlQmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICBibG9jay5tYXJrU2FmZSgpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IEdhbWVCb2FyZCwgZ2V0U29ycm91bmRpbmdCbG9ja3MgfTtcbiIsImNsYXNzIFNoaXAge1xuICAjc2FuayA9IGZhbHNlO1xuICAjZmxlZXRTYW5rID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKHBvcywgZ2FtZUJvYXJkLCBmbGVldCkge1xuICAgIHRoaXMubXlCbG9jayA9IGdhbWVCb2FyZC5nZXRCbG9jayhwb3NbMF0sIHBvc1sxXSk7XG4gICAgdGhpcy5teUJsb2NrLnBsYWNlU2hpcCh0aGlzKTtcbiAgICB0aGlzLmZsZWV0ID0gZmxlZXQ7XG4gIH1cbiAgZ2V0IGlzU2FuaygpIHtcbiAgICByZXR1cm4gdGhpcy4jc2FuaztcbiAgfVxuICBnZXQgaXNGbGVldFNhbmsoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2ZsZWV0U2FuaztcbiAgfVxuICBnZXQgZ2V0RmxlZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxlZXQ7XG4gIH1cbiAgZ2V0IGJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLm15QmxvY2s7XG4gIH1cbiAgc2luaygpIHtcbiAgICB0aGlzLiNzYW5rID0gdHJ1ZTtcbiAgICB0aGlzLmZsZWV0Lmxvc2VTaGlwKCk7XG4gIH1cbiAgZmxlZXRIYXNTYW5rKCkge1xuICAgIHRoaXMuI2ZsZWV0U2FuayA9IHRydWU7XG4gICAgdGhpcy5teUJsb2NrLmZsZWV0SGFzU2FuaygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoaXA7XG4iLCJpbXBvcnQgU2hpcCBmcm9tIFwiLi9zaGlwLmpzXCI7XG5cbmNsYXNzIEZsZWV0IHtcbiAgI2hvcml6b250YWw7XG4gICNzaGlwcztcbiAgI2xlbmd0aDtcbiAgI3NhbmtlZFNoaXBzID0gMDtcbiAgY29uc3RydWN0b3IobGVuZ3RoLCBib2FyZCwgaG9yaXpvbnRhbCkge1xuICAgIHRoaXMuI2xlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLiNzaGlwcyA9IEFycmF5KHRoaXMuI2xlbmd0aCk7XG4gICAgdGhpcy4jaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG4gICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICB9XG5cbiAgZ2V0U2hpcHMgPSAoKSA9PiB0aGlzLiNzaGlwcztcbiAgZ2V0RGlyZWN0aW9uID0gKCkgPT4gdGhpcy4jaG9yaXpvbnRhbDtcblxuICBpbml0aWFsaXplKHBvcykge1xuICAgIHRoaXMub2NjdXB5QmxvY2tzKHBvcyk7XG4gIH1cbiAgY2FsY3VsYXRlQmxvY2tzVG9UYWtlKHBvcykge1xuICAgIGxldCBibG9ja3NUb1Rha2UgPSBBcnJheSgpO1xuICAgIGxldCBjdXJYID0gcG9zWzBdO1xuICAgIGxldCBjdXJZID0gcG9zWzFdO1xuICAgIGlmICh0aGlzLiNob3Jpem9udGFsKSBjdXJYIC09IE1hdGguZmxvb3IodGhpcy4jbGVuZ3RoIC8gMik7XG4gICAgZWxzZSBjdXJZIC09IE1hdGguZmxvb3IodGhpcy4jbGVuZ3RoIC8gMik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2xlbmd0aDsgaSsrKSB7XG4gICAgICAvL0FycmF5cyBhcmUgcGFzcyBieSByZWZlcmVuY2UhISFcbiAgICAgIGJsb2Nrc1RvVGFrZS5wdXNoKFtjdXJYLCBjdXJZXSk7XG5cbiAgICAgIGlmICh0aGlzLiNob3Jpem9udGFsKSBjdXJYKys7XG4gICAgICBlbHNlIGN1clkrKztcbiAgICB9XG4gICAgcmV0dXJuIGJsb2Nrc1RvVGFrZTtcbiAgfVxuICBsb3NlU2hpcCgpIHtcbiAgICB0aGlzLiNzYW5rZWRTaGlwcysrO1xuICAgIGlmICh0aGlzLiNzYW5rZWRTaGlwcyA+PSB0aGlzLiNsZW5ndGgpIHtcbiAgICAgIHRoaXMuI3NoaXBzLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgICAgc2hpcC5mbGVldEhhc1NhbmsoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBvY2N1cHlCbG9ja3MocG9zKSB7XG4gICAgaWYgKHRoaXMuI3NoaXBzLmZpbHRlcigoKSA9PiB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnJldHJlYXQoKTtcbiAgICB9XG4gICAgY29uc3QgYmxvY2tzVG9UYWtlID0gdGhpcy5jYWxjdWxhdGVCbG9ja3NUb1Rha2UocG9zKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2xlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBuZXdTaGlwID0gbmV3IFNoaXAoYmxvY2tzVG9UYWtlW2ldLCB0aGlzLmJvYXJkLCB0aGlzKTtcbiAgICAgIHRoaXMuI3NoaXBzW2ldID0gbmV3U2hpcDtcbiAgICB9XG4gIH1cbiAgcmV0cmVhdCgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI3NoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLiNzaGlwc1tpXS5ibG9jay5yZW1vdmVTaGlwKCk7XG4gICAgICB0aGlzLiNzaGlwc1tpXSA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZsZWV0O1xuIiwiaW1wb3J0IHsgZ2V0U29ycm91bmRpbmdCbG9ja3MgfSBmcm9tIFwiLi9nYW1lQm9hcmQuanNcIjtcblxuZnVuY3Rpb24gY2hlY2tCbG9ja1ZhbGlkaXR5KGJvYXJkLCBmbGVldCwgcG9zLCBibG9jayA9IG51bGwpIHtcbiAgY29uc3QgeCA9IHBvc1swXTtcbiAgY29uc3QgeSA9IHBvc1sxXTtcblxuICBsZXQgdmFsaWQgPSB0cnVlO1xuXG4gIGlmIChib2FyZC5nZXRCbG9jayh4LCB5KS5pc0hhdmVTaGlwKSB7XG4gICAgaWYgKGJsb2NrICYmIGJvYXJkLmdldEJsb2NrKHgsIHkpLmdldFNoaXAuZmxlZXQgIT09IGJsb2NrLmdldFNoaXAuZmxlZXQpIHtcbiAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYmxvY2tzVG9UYWtlID0gZmxlZXQuY2FsY3VsYXRlQmxvY2tzVG9UYWtlKFt4LCB5XSk7XG5cbiAgaWYgKGJsb2Nrc1RvVGFrZS5sZW5ndGggPiAwKSB7XG4gICAgYmxvY2tzVG9UYWtlLmZvckVhY2goKGJsb2NrVG9UYWtlKSA9PiB7XG4gICAgICBpZiAoYm9hcmQuZ2V0QmxvY2soYmxvY2tUb1Rha2VbMF0sIGJsb2NrVG9UYWtlWzFdKSkge1xuICAgICAgICBjb25zdCBzb3Jyb3VuZGluZ0Jsb2NrcyA9IGdldFNvcnJvdW5kaW5nQmxvY2tzKFxuICAgICAgICAgIGJvYXJkLFxuICAgICAgICAgIGJsb2NrVG9UYWtlLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcbiAgICAgICAgc29ycm91bmRpbmdCbG9ja3MuZm9yRWFjaCgoc29ycm91bmRpbmdCbG9jaykgPT4ge1xuICAgICAgICAgIGlmIChzb3Jyb3VuZGluZ0Jsb2NrLmlzSGF2ZVNoaXApIHtcbiAgICAgICAgICAgIGlmIChzb3Jyb3VuZGluZ0Jsb2NrLmdldFNoaXAuZ2V0RmxlZXQgIT09IGZsZWV0KSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic29ycm91bmRpbmcgYmxvY2sgaGFzIGEgc2hpcFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwibm8gYmxvY2tzIHRvIHRha2VcIik7XG4gICAgdmFsaWQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNoZWNrQmxvY2tWYWxpZGl0eTtcbiIsImltcG9ydCBjaGVja0Jsb2NrVmFsaWRpdHkgZnJvbSBcIi4vY2hlY2tCbG9ja1ZhbGlkaXR5LmpzXCI7XG5cbmZ1bmN0aW9uIHJhbmRvbVBvc2l0aW9uKGJvYXJkLCBmbGVldCwgdHJpZWRDb29yZHMgPSBudWxsKSB7XG4gIC8vIGNvbnNvbGUubG9nKHRyaWVkQ29vcmRzKTtcbiAgaWYgKHRyaWVkQ29vcmRzKSB7XG4gICAgaWYgKHRyaWVkQ29vcmRzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cmllZENvb3JkcyA9IEFycmF5KGJvYXJkLmdldExlbmd0aCgpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWVkQ29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0cmllZENvb3Jkc1tpXSA9IGk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRyaWVkQ29vcmRzLmxlbmd0aCAtIDEpKTtcbiAgY29uc3QgYmxvY2sgPSBib2FyZC5nZXRBcnJheSgpW3JhbmRvbUluZGV4XTtcbiAgbGV0IHBvcztcbiAgaWYgKGJsb2NrKSB7XG4gICAgcG9zID0gYmxvY2suZ2V0UG9zKCk7XG4gIH1cbiAgY29uc3QgdmFsaWQgPSBjaGVja0Jsb2NrVmFsaWRpdHkoYm9hcmQsIGZsZWV0LCBwb3MpO1xuICBpZiAodmFsaWQpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgKCR7eH0sICR7eX0pYCk7XG4gICAgcmV0dXJuIHBvcztcbiAgfSBlbHNlIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgaW52YWxpZCwgY2hvb3NpbmcgYW5vdGhlciBjb29yZDogKCR7eH0sICR7eX0pYCk7XG4gICAgdHJpZWRDb29yZHMuc3BsaWNlKHJhbmRvbUluZGV4LCAxKTtcbiAgICByZXR1cm4gcmFuZG9tUG9zaXRpb24oYm9hcmQsIGZsZWV0LCB0cmllZENvb3Jkcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmFuZG9tQWxpZ24oKSB7XG4gIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICBpZiAocmFuZG9tID09PSAxKSByZXR1cm4gdHJ1ZTtcbiAgZWxzZSByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7IHJhbmRvbVBvc2l0aW9uLCByYW5kb21BbGlnbiB9O1xuIiwiaW1wb3J0IHsgR2FtZUJvYXJkIH0gZnJvbSBcIi4vZ2FtZUJvYXJkLmpzXCI7XG5pbXBvcnQgRmxlZXQgZnJvbSBcIi4vZmxlZXQuanNcIjtcbmltcG9ydCB7IHJhbmRvbVBvc2l0aW9uLCByYW5kb21BbGlnbiB9IGZyb20gXCIuL2Jsb2Nrc0FsaWduZXIuanNcIjtcblxuY29uc3QgZmxlZXRzID0gWzEsIDEsIDEsIDEsIDIsIDIsIDIsIDMsIDMsIDRdO1xuXG5mdW5jdGlvbiBjcmVhdGVHYW1lQm9hcmQoY2xpY2thYmxlLCBzaGlwc0hpZGRlbiwgZWRpdGFibGUpIHtcbiAgbGV0IG5ld0dhbWVCb2FyZCA9IG51bGw7XG4gIGxldCBjb3VudGVyID0gMDtcbiAgd2hpbGUgKCFuZXdHYW1lQm9hcmQpIHtcbiAgICBjb3VudGVyKys7XG4gICAgbmV3R2FtZUJvYXJkID0gSW5pdGlhbGl6ZShjbGlja2FibGUsIHNoaXBzSGlkZGVuLCBlZGl0YWJsZSk7XG4gIH1cbiAgY29uc29sZS5sb2coXCJUcmllZCBcIiArIGNvdW50ZXIgKyBcIiB0aW1lcyB0byBtYWtlIGEgZ29vZCBhbGlnbm1lbnRcIik7XG4gIHJldHVybiBuZXdHYW1lQm9hcmQ7XG59XG5cbmZ1bmN0aW9uIEluaXRpYWxpemUoY2xpY2thYmxlLCBzaGlwc0hpZGRlbiwgZWRpdGFibGUpIHtcbiAgY29uc3QgbmV3R2FtZUJvYXJkID0gbmV3IEdhbWVCb2FyZChjbGlja2FibGUsIHNoaXBzSGlkZGVuLCBlZGl0YWJsZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZmxlZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmFuZG9tT3JpZW50YXRpb24gPSByYW5kb21BbGlnbigpO1xuICAgIGNvbnN0IG5ld0ZsZWV0ID0gbmV3IEZsZWV0KGZsZWV0c1tpXSwgbmV3R2FtZUJvYXJkLCByYW5kb21PcmllbnRhdGlvbik7XG4gICAgY29uc3QgcmFuZG9tUG9zID0gcmFuZG9tUG9zaXRpb24obmV3R2FtZUJvYXJkLCBuZXdGbGVldCk7XG4gICAgaWYgKCFyYW5kb21Qb3MpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBuZXdGbGVldC5pbml0aWFsaXplKHJhbmRvbVBvcyk7XG4gIH1cbiAgcmV0dXJuIG5ld0dhbWVCb2FyZDtcbn1cblxuZXhwb3J0IHsgY3JlYXRlR2FtZUJvYXJkIH07XG4iLCJpbXBvcnQgcmVtb3ZlVW5hdmFpbGFibGVCbG9ja3MgZnJvbSBcIi4vcmVtb3ZlVW5hdmFpbGFibGVCbG9ja3MuanNcIjtcbmltcG9ydCBnZXRTb3Jyb3VuZGluZ0Jsb2NrcyBmcm9tIFwiLi9nZXRTb3Jyb3VuZGluZ0Jsb2Nrcy5qc1wiO1xuaW1wb3J0IEludm9rZVdpdERlbGF5IGZyb20gXCIuL0ludm9rZVdpdGhEZWxheS5qc1wiO1xuaW1wb3J0IHsgZ2V0UmFuZG9tQXJiaXRyYXJ5SW50IH0gZnJvbSBcIi4vZ2V0UmFuZG9tQXJiaXRyYXJ5LmpzXCI7XG5cbmNsYXNzIGF1dG9QbGF5ZXIge1xuICAjV2FpdE1pbGxpU2Vjb25kc01heCA9IDMwMDA7XG4gICNXYWl0TWlsbGlTZWNvbmRzTWluID0gMjUwO1xuICAjb3Bwb25lbnRCb2FyZDtcbiAgI215Qm9hcmQ7XG4gICNsYXN0QXR0YWNrZWQgPSBudWxsO1xuICAjdGFyZ2V0QmxvY2sgPSBudWxsO1xuICBhdHRhY2tlZEFTaGlwID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKG15Qm9hcmQsIG9wcG9uZW50Qm9hcmQpIHtcbiAgICB0aGlzLiNvcHBvbmVudEJvYXJkID0gb3Bwb25lbnRCb2FyZDtcbiAgICB0aGlzLiNteUJvYXJkID0gbXlCb2FyZDtcbiAgICB0aGlzLmxlbmd0aCA9IG15Qm9hcmQuZ2V0TGVuZ3RoKCk7XG4gICAgdGhpcy5hdmFpbGFibGVCbG9ja3MgPSBBcnJheSh0aGlzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmF2YWlsYWJsZUJsb2Nrc1tpXSA9IGk7XG4gICAgfVxuICB9XG5cbiAgcGxheSgpIHtcbiAgICBjb25zdCBkZWxheSA9IGdldFJhbmRvbUFyYml0cmFyeUludChcbiAgICAgIHRoaXMuI1dhaXRNaWxsaVNlY29uZHNNYXgsXG4gICAgICB0aGlzLiNXYWl0TWlsbGlTZWNvbmRzTWluLFxuICAgICk7XG4gICAgY29uc29sZS5sb2coZGVsYXkpO1xuICAgIEludm9rZVdpdERlbGF5KGRlbGF5KS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGNob3NlbkJsb2NrID0gY2hvc2VCbG9jayh0aGlzLiNvcHBvbmVudEJvYXJkLCB0aGlzKTtcblxuICAgICAgaWYgKGNob3NlbkJsb2NrKSB7XG4gICAgICAgIHRoaXMuc2V0TGFzdEF0dGFja2VkKGNob3NlbkJsb2NrKTtcbiAgICAgICAgaWYgKGNob3NlbkJsb2NrLmlzSGF2ZVNoaXApIHtcbiAgICAgICAgICB0aGlzLnNldFRhcmdldEJsb2NrKGNob3NlbkJsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBjaG9zZW5CbG9jay5hdHRhY2sodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb3QgZmFpbGVkIHRvIGZpbmQgYSBibG9ja1wiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldEF2YWlsYWJsZUJsb2NrcyA9ICgpID0+IHRoaXMuYXZhaWxhYmxlQmxvY2tzO1xuICBnZXRMYXN0QXR0YWNrZWQgPSAoKSA9PiB0aGlzLiNsYXN0QXR0YWNrZWQ7XG4gIGdldFRhcmdldEJsb2NrID0gKCkgPT4gdGhpcy4jdGFyZ2V0QmxvY2s7XG5cbiAgc2V0TGFzdEF0dGFja2VkID0gKGlucHV0KSA9PiAodGhpcy4jbGFzdEF0dGFja2VkID0gaW5wdXQpO1xuICBzZXRUYXJnZXRCbG9jayA9IChpbnB1dCkgPT4gKHRoaXMuI3RhcmdldEJsb2NrID0gaW5wdXQpO1xufVxuXG5mdW5jdGlvbiBjaG9zZUJsb2NrKGJvYXJkLCBhdXRvUGxheWVyKSB7XG4gIHJlbW92ZVVuYXZhaWxhYmxlQmxvY2tzKGF1dG9QbGF5ZXIuZ2V0QXZhaWxhYmxlQmxvY2tzKCksIGJvYXJkLmdldEFycmF5KCkpO1xuICBpZiAoYXV0b1BsYXllci5nZXRBdmFpbGFibGVCbG9ja3MoKS5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQm90IGFycmF5IGlzIG91dCBvZiBpbmRleGVzIGJlZm9yZSB0aGUgZ2FtZSBlbmRzXCIpO1xuICB9XG5cbiAgbGV0IGxhc3RBdHRhY2tlZFZhbHVlID0gYXV0b1BsYXllci5nZXRMYXN0QXR0YWNrZWQoKTtcbiAgbGV0IHRhcmdldEJsb2NrVmFsdWUgPSBhdXRvUGxheWVyLmdldFRhcmdldEJsb2NrKCk7XG5cbiAgbGV0IGNob3NlbkJsb2NrO1xuXG4gIGlmICh0YXJnZXRCbG9ja1ZhbHVlKSB7XG4gICAgaWYgKCF0YXJnZXRCbG9ja1ZhbHVlLmdldFNoaXAuaXNGbGVldFNhbmspIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidGhlIGZsZWV0IGkgdGFyZ2V0ZWQgZGlkbid0IHNpbmsgeWV0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcInRoZSBmbGVldCBpIHRhcmdldGVkIGFscmVhZHkgc2FuaywgaSdsbCBmb3JnZXQgaXRcIik7XG4gICAgICB0YXJnZXRCbG9ja1ZhbHVlID0gbnVsbDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFxuICAgICAgbGFzdEF0dGFja2VkVmFsdWUgJiZcbiAgICAgIGxhc3RBdHRhY2tlZFZhbHVlLmlzSGF2ZVNoaXAgJiZcbiAgICAgICFsYXN0QXR0YWNrZWRWYWx1ZS5nZXRTaGlwLmlzRmxlZXRTYW5rXG4gICAgKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkkgc3RhcnRlZCB0YXJnZXRpbmcgYSBuZXcgZmxlZXRcIik7XG4gICAgICB0YXJnZXRCbG9ja1ZhbHVlID0gbGFzdEF0dGFja2VkVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRhcmdldEJsb2NrVmFsdWUpIHtcbiAgICBjaG9zZW5CbG9jayA9IGNob29zZVJlbGF0aXZlQmxvY2soYm9hcmQsIHRhcmdldEJsb2NrVmFsdWUuZ2V0UG9zKCkpOyAvLyBkZWZhbHQgUmFuZG9tXG4gIH0gZWxzZSB7XG4gICAgY2hvc2VuQmxvY2sgPSBjaG9vc2VSYW5kb21CbG9jayhhdXRvUGxheWVyLmdldEF2YWlsYWJsZUJsb2NrcygpLCBib2FyZCk7XG4gIH1cbiAgcmV0dXJuIGNob3NlbkJsb2NrO1xufVxuXG5mdW5jdGlvbiBjaG9vc2VSYW5kb21CbG9jayhhcnIsIGJvYXJkKSB7XG4gIGxldCBjaG9zZW5CbG9jaztcbiAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoYXJyLmxlbmd0aCAtIDEpKTtcbiAgaWYgKHJhbmRvbUluZGV4ID4gYXJyLmxlbmd0aCAtIDEgfHwgcmFuZG9tSW5kZXggPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJJbmRleCBvdXQgb2YgYXJyYXkgYm91bmRzLCBJbmRleDogXCIgKyByYW5kb21JbmRleCArIFwiLCBBcnJheTogXCIgKyBhcnIsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB2YWx1ZSA9IGFycltyYW5kb21JbmRleF07XG4gICAgY2hvc2VuQmxvY2sgPSBib2FyZC5nZXRBcnJheSgpW3ZhbHVlXTtcbiAgfVxuICByZXR1cm4gY2hvc2VuQmxvY2s7XG59XG5cbmZ1bmN0aW9uIGNob29zZVJlbGF0aXZlQmxvY2soYm9hcmQsIHBvcywgdHJpZWRCbG9ja3MgPSBbXSkge1xuICBsZXQgcG9zc2libGVCbG9ja3MgPSBBcnJheSgpO1xuICBsZXQgYXR0YWNrZWRCbG9ja3MgPSBBcnJheSgpO1xuXG4gIGNvbnN0IHNvcnJvdW5kaW5ncyA9IGdldFNvcnJvdW5kaW5nQmxvY2tzKGJvYXJkLCBwb3MsIGZhbHNlLCB0cnVlKTtcblxuICBzb3Jyb3VuZGluZ3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICBpZiAoYmxvY2suaXNBdHRhY2tlZCB8fCBibG9jay5pc1NhZmUpIHtcbiAgICAgIGlmIChibG9jay5pc0hhdmVTaGlwKSB7XG4gICAgICAgIGxldCB0cmllZCA9IGZhbHNlO1xuICAgICAgICBpZiAodHJpZWRCbG9ja3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpZWRCbG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0cmllZEJsb2Nrc1tpXSA9PT0gYmxvY2spIHRyaWVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0cmllZCkge1xuICAgICAgICAgIGF0dGFja2VkQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghYmxvY2suaXNBdHRhY2tlZCAmJiAhYmxvY2suaXNTYWZlKSB7XG4gICAgICAgIHBvc3NpYmxlQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHBvc3NpYmxlQmxvY2tzLmxlbmd0aCA+IDApIHtcbiAgICAvLyB0aGVyZSBhcmUgZW1wdHkgYmxvY2tzIGFyb3VuZFxuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHBvc3NpYmxlQmxvY2tzLmxlbmd0aCAtIDEpKTtcbiAgICByZXR1cm4gcG9zc2libGVCbG9ja3NbcmFuZG9tSW5kZXhdO1xuICB9IGVsc2UgaWYgKGF0dGFja2VkQmxvY2tzLmxlbmd0aCA+IDApIHtcbiAgICAvLyBubyBlbXB0eSBibG9ja3MgYXJvdW5kXG4gICAgLy8gdHJ5IGFub3RoZXIgcm91dGVcbiAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChhdHRhY2tlZEJsb2Nrcy5sZW5ndGggLSAxKSk7XG4gICAgY29uc3QgcmFuZG9tQmxvY2sgPSBhdHRhY2tlZEJsb2Nrc1tyYW5kb21JbmRleF07XG4gICAgY29uc29sZS5sb2coXCJqdW1wZWQgdG8gXCIgKyByYW5kb21CbG9jay5nZXRQb3MoKSk7XG4gICAgdHJpZWRCbG9ja3MucHVzaChyYW5kb21CbG9jayk7XG4gICAgcmV0dXJuIGNob29zZVJlbGF0aXZlQmxvY2soYm9hcmQsIHJhbmRvbUJsb2NrLmdldFBvcygpLCB0cmllZEJsb2Nrcyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhhdCBtZWFucyB0aGUgcmVjdXJzaW9uIHJlYWNoZWQgYSBjb3JuZXIgYW5kIGNhbid0IGdvIGJhY2tcbiAgICAvLyByZW1vdmUgdGhpcyByb3V0ZSBhbmQgZ28gYmFja1xuICAgIHRyaWVkQmxvY2tzID0gW107XG4gICAgdHJpZWRCbG9ja3MucHVzaChib2FyZC5nZXRCbG9jayhwb3NbMF0sIHBvc1sxXSkpO1xuICAgIHJldHVybiBjaG9vc2VSZWxhdGl2ZUJsb2NrKGJvYXJkLCBwb3MsIHRyaWVkQmxvY2tzKTtcbiAgfVxufVxuXG5leHBvcnQgeyBhdXRvUGxheWVyIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVHYW1lQm9hcmQgfSBmcm9tIFwiLi9pbml0aWFsaXplci5qc1wiO1xuaW1wb3J0IHsgZGlzcGxheUluc3RydWN0aW9ucywgVUlHYW1lRW5kIH0gZnJvbSBcIi4vVUkuanNcIjtcbmltcG9ydCB7IGF1dG9QbGF5ZXIgfSBmcm9tIFwiLi9hdXRvUGxheWVyLmpzXCI7XG5cbmxldCBwbGF5ZXJCb2FyZDtcbmxldCBib3RCb2FyZDtcbmxldCBib3Q7XG5cbmZ1bmN0aW9uIHN0YXJ0UGxheWVyVnNSb2JvdCgpIHtcbiAgcGxheWVyQm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgYm90Qm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoZmFsc2UsIHRydWUsIGZhbHNlKTtcbiAgYm90ID0gbmV3IGF1dG9QbGF5ZXIoYm90Qm9hcmQsIHBsYXllckJvYXJkKTtcblxuICBwbGF5ZXJCb2FyZC5zZXRIaXRDYWxsYmFjaygoc3RhdGUpID0+IHtcbiAgICBpZiAocGxheWVyQm9hcmQuaXNGaW5pc2hlZCgpKSB7XG4gICAgICBFbmQoXCJib3RcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gXCJzaGlwXCIpIHtcbiAgICAgICAgYm90VHVybigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGxheWVyVHVybigpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGJvdEJvYXJkLnNldEhpdENhbGxiYWNrKChzdGF0ZSkgPT4ge1xuICAgIGlmIChib3RCb2FyZC5pc0ZpbmlzaGVkKCkpIHtcbiAgICAgIEVuZChcInBsYXllclwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXRlID09PSBcInNoaXBcIikge1xuICAgICAgICBwbGF5ZXJUdXJuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib3RUdXJuKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBwbGF5ZXJCb2FyZC5yZWFkeSgpO1xuICBib3RCb2FyZC5yZWFkeSgpO1xufVxuXG5mdW5jdGlvbiBzdGFydEdhbWUoKSB7XG4gIHBsYXllclR1cm4oKTtcbiAgZGlzcGxheUluc3RydWN0aW9ucygpO1xufVxuXG5mdW5jdGlvbiBwbGF5ZXJUdXJuKCkge1xuICBjb25zb2xlLmxvZyhcIml0J3MgcGxheWVyJ3MgdHVyblwiKTtcbiAgcGxheWVyQm9hcmQuc2V0Qm9hcmRTdGF0ZShmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gIGJvdEJvYXJkLnNldEJvYXJkU3RhdGUodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gYm90VHVybigpIHtcbiAgY29uc29sZS5sb2coXCJpdCdzIGJvdCdzIHR1cm5cIik7XG4gIHBsYXllckJvYXJkLnNldEJvYXJkU3RhdGUoZmFsc2UsIGZhbHNlLCB0cnVlLCBmYWxzZSk7XG4gIGJvdEJvYXJkLnNldEJvYXJkU3RhdGUoZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSk7XG4gIGJvdC5wbGF5KCk7XG59XG5mdW5jdGlvbiBFbmQod2lubmVyKSB7XG4gIHBsYXllckJvYXJkLnNldEJvYXJkU3RhdGUoZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICBib3RCb2FyZC5zZXRCb2FyZFN0YXRlKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgVUlHYW1lRW5kKHdpbm5lcik7XG59XG5cbmV4cG9ydCB7IHN0YXJ0UGxheWVyVnNSb2JvdCwgc3RhcnRHYW1lIH07XG4iLCJpbXBvcnQgeyByZWxvYWRQYWdlIH0gZnJvbSBcIi4vcmVsb2FkUGFnZS5qc1wiO1xuaW1wb3J0IHsgc3RhcnRHYW1lIH0gZnJvbSBcIi4vcGxheWVyVlNSb2JvdC5qc1wiO1xuXG5jb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnQtYnRuXCIpO1xuY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZVwiKTtcblxuc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgc3RhcnRHYW1lKCk7XG4gIHN0YXJ0QnRuLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xufSk7XG5cbm1lc3NhZ2UudGV4dENvbnRlbnQgPVxuICBcImRyYWcgYW5kIGRyb3AgcmVkIGJsb2NrcyB0byBjcmVhdGUgeW91ciBhbGlnbm1lbnQsIHRoZW4gcHJlc3Mgc3RhcnRcIjtcblxuZnVuY3Rpb24gZGlzcGxheUluc3RydWN0aW9ucygpIHtcbiAgbWVzc2FnZS50ZXh0Q29udGVudCA9IFwiRmluZCBlbmVteSdzIGZsZWV0cyBhbmQgZGVzdHJveSB0aGVtXCI7XG59XG5cbmZ1bmN0aW9uIFVJR2FtZUVuZCh3aW5uZXIpIHtcbiAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICByZWxvYWRQYWdlKCk7XG4gIH0pO1xuICBzdGFydEJ0bi5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gIG1lc3NhZ2Uuc3R5bGUuZm9udFdlaWdodCA9IFwiYm9sZFwiO1xuICBpZiAod2lubmVyID09PSBcInBsYXllclwiKSB7XG4gICAgbWVzc2FnZS50ZXh0Q29udGVudCA9IFwiWW91IFdvbiFcIjtcbiAgICBtZXNzYWdlLnN0eWxlLmNvbG9yID0gXCJncmVlblwiO1xuICB9IGVsc2UgaWYgKHdpbm5lciA9PT0gXCJib3RcIikge1xuICAgIG1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIllvdSBMb3NlXCI7XG4gICAgbWVzc2FnZS5zdHlsZS5jb2xvciA9IFwicmVkXCI7XG4gIH1cbn1cblxuZXhwb3J0IHsgZGlzcGxheUluc3RydWN0aW9ucywgVUlHYW1lRW5kIH07XG4iLCJmdW5jdGlvbiByZWxvYWRQYWdlKCkge1xuICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG59XG5cbmV4cG9ydCB7IHJlbG9hZFBhZ2UgfTtcbiIsImNsYXNzIENTaGFycEV2ZW50IHtcbiAgI2xpc3RlbmVycyA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBhZGQobGlzdGVuZXIpIHtcbiAgICB0aGlzLiNsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cbiAgcmVtb3ZlKGxpc3RlbmVyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLiNsaXN0ZW5lcnNbaV0gPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuI2xpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRyaWdnZXIoYXJncykge1xuICAgIHRoaXMuI2xpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgbGlzdGVuZXIoYXJncyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ1NoYXJwRXZlbnQ7XG4iLCJpbXBvcnQgQ1NoYXJwRXZlbnQgZnJvbSBcIi4vY1NoYXJwRXZlbnQuanNcIjtcblxuY29uc3QgT25Nb3VzZU1vdmUgPSBuZXcgQ1NoYXJwRXZlbnQoKTtcbmNvbnN0IE9uTW91c2VVcCA9IG5ldyBDU2hhcnBFdmVudCgpO1xuY29uc3QgT25Nb3VzZURvd24gPSBuZXcgQ1NoYXJwRXZlbnQoKTtcblxuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChldikgPT4ge1xuICBPbk1vdXNlTW92ZS50cmlnZ2VyKGV2KTtcbn0pO1xuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZXYpID0+IHtcbiAgT25Nb3VzZVVwLnRyaWdnZXIoZXYpO1xufSk7XG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2KSA9PiB7XG4gIE9uTW91c2VEb3duLnRyaWdnZXIoZXYpO1xufSk7XG5cbmV4cG9ydCB7IE9uTW91c2VNb3ZlLCBPbk1vdXNlVXAsIE9uTW91c2VEb3duIH07XG4iLCJpbXBvcnQge1xuICBPbk1vdXNlTW92ZSxcbiAgT25Nb3VzZVVwLFxuICBPbk1vdXNlRG93bixcbn0gZnJvbSBcIi4vbW91c2VFdmVudEhhbmRsZXIuanNcIjtcblxuXG5jb25zdCBEUkFHR0FCTEVfQ0xBU1MgPSBcImN1c3RvbS1kcmFnZ2FibGVcIjtcbmNvbnN0IENPV0FSRF9DTEFTUyA9IFwiY293YXJkXCI7XG5jb25zdCBDTE9ORV9DTEFTU1MgPSBcImRyYWctY2xvbmVcIjtcbmNvbnN0IERST1BQQUJMRV9DTEFTUyA9IFwiY3VzdG9tLWRyb3BwYWJsZVwiO1xubGV0IGRyYWdDYWxsQmFjayA9IG51bGw7XG5sZXQgZHJvcENhbGxCYWNrID0gbnVsbDtcbmxldCBtb3ZlQ2FsbEJhY2sgPSBudWxsO1xubGV0IGRlZmF1bHRCZWhhdmlvdXIgPSB0cnVlO1xuXG5cbk9uTW91c2VEb3duLmFkZChoYW5kbGVEcmFnKTtcblxuZnVuY3Rpb24gaGFuZGxlRHJhZyhldikge1xuICBpZiAoZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhEUkFHR0FCTEVfQ0xBU1MpKSB7XG4gICAgY29uc29sZS5sb2coZGVmYXVsdEJlaGF2aW91cilcbiAgICBpZihkZWZhdWx0QmVoYXZpb3VyKSB7XG4gICAgICBkcmFnRWxlbWVudChldik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYoZHJhZ0NhbGxCYWNrKSB7XG4gICAgICAgIGRyYWdDYWxsQmFjayhldik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gZHJhZyBjYWxsYmFjayBzcGVjaWZpZWRcIilcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZURyb3AoZXYsIGVsZW1lbnQpIHtcbiAgaWYoZGVmYXVsdEJlaGF2aW91cikge1xuICAgIGRyb3BFbGVtZW50KGV2LCBlbGVtZW50KTtcbiAgfVxuICBlbHNlIHtcbiAgICBpZihkcm9wQ2FsbEJhY2spIHtcbiAgICAgIGRyb3BDYWxsQmFjayhldiwgZWxlbWVudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gZHJvcCBjYWxsYmFjayBzcGVjaWZpZWRcIilcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZU1vdmUoZXYsIGVsZW1lbnQsIHBvc1gsIHBvc1kpIHtcbiAgaWYoZGVmYXVsdEJlaGF2aW91cikge1xuICAgIHNldEVsZW1lbnRQb3N0aW9uKGVsZW1lbnQsIHBvc1gsIHBvc1kpXG4gIH1cbiAgZWxzZSB7XG4gICAgaWYobW92ZUNhbGxCYWNrKSB7XG4gICAgICBtb3ZlQ2FsbEJhY2soZXYsIGVsZW1lbnQsIHBvc1gsIHBvc1kpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIG1vdmUgY2FsbGJhY2sgc3BlY2lmaWVkXCIpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWdFbGVtZW50KGV2KSB7XG4gIGNvbnNvbGUubG9nKFwic3RhcnRlZCBkcmFnZ2luZ1wiKTtcblxuICBjb25zdCBlbGVtZW50ID0gZXYudGFyZ2V0O1xuICBsZXQgZHJhZ0VsZW1lbnQgPSBlbGVtZW50O1xuICAvLyBjb25zdCBvcmlnaW5hbFdpZHRoID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS53aWR0aDtcbiAgLy8gY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmhlaWdodDtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENPV0FSRF9DTEFTUykpIHtcbiAgICBkcmFnRWxlbWVudCA9IGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIGVsZW1lbnQuYXBwZW5kKGRyYWdFbGVtZW50KTtcbiAgICBkcmFnRWxlbWVudC5jbGFzc0xpc3QuYWRkKENMT05FX0NMQVNTUyk7XG4gIH1cblxuICBjb25zb2xlLmxvZyhgJHtldi5vZmZzZXRYfSAke2V2Lm9mZnNldFl9YClcbiAgbGV0IG9mZnNldFggPSBldi5vZmZzZXRYO1xuICBsZXQgb2Zmc2V0WSA9IGV2Lm9mZnNldFk7XG4gIGxldCBiZWluZ0RyYWdnZWQgPSB0cnVlO1xuXG4gIE9uTW91c2VVcC5hZGQob25EcmFnRW5kKTtcbiAgT25Nb3VzZU1vdmUuYWRkKG9uRHJhZyk7XG4gIGRyYWdFbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgY29uc29sZS5sb2coXG4gICAgXCJzZXR0aW5nIGRvY3VtZW50IGJvZHkgaGVpZ2h0IHRvIDEwMHZoLCByZW1vdmUgaXQgb3IgZWRpdCBpdCBpZiB5b3Ugd2FudFwiXG4gICk7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDB2aFwiO1xuICBoYW5kbGVNb3ZlKGV2LCBkcmFnRWxlbWVudCwgZXYucGFnZVggLSBvZmZzZXRYLCBldi5wYWdlWSAtIG9mZnNldFkpO1xuXG4gIGZ1bmN0aW9uIG9uRHJhZyhldikge1xuICAgIGNvbnNvbGUubG9nKFwiYmVpbmcgZHJhZ2dlZFwiKTtcbiAgICBoYW5kbGVNb3ZlKGV2LCBkcmFnRWxlbWVudCwgZXYucGFnZVggLSBvZmZzZXRYLCBldi5wYWdlWSAtIG9mZnNldFkpO1xuICB9XG4gIGZ1bmN0aW9uIG9uRHJhZ0VuZChldikge1xuICAgIGlmIChiZWluZ0RyYWdnZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwibm90IGJlaW5nIGRyYWdnZWQgYW55bW9yZVwiKTtcbiAgICAgIGJlaW5nRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgT25Nb3VzZU1vdmUucmVtb3ZlKG9uRHJhZyk7XG4gICAgICBPbk1vdXNlVXAucmVtb3ZlKG9uRHJhZ0VuZCk7XG4gICAgICBoYW5kbGVEcm9wKGV2LCBlbGVtZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RWxlbWVudFBvc3Rpb24oZWxlbWVudCwgcG9zWCwgcG9zWSkge1xuICBjb25zb2xlLmxvZyhwb3NYKTtcbiAgY29uc29sZS5sb2cocG9zWSk7XG4gIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gIC8vIGVsZW1lbnQuc3R5bGUud2lkdGggPSBvcmlnaW5hbFdpZHRoO1xuICAvLyBlbGVtZW50LnN0eWxlLmhlaWdodCA9IG9yaWdpbmFsSGVpZ2h0O1xuICBlbGVtZW50LnN0eWxlLnRvcCA9IGAke3Bvc1l9cHhgO1xuICBlbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtwb3NYfXB4YDtcbn1cblxuZnVuY3Rpb24gZHJvcEVsZW1lbnQoZXYsIGVsZW1lbnQpIHtcbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwic3RhdGljXCI7XG4gIGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICBjb25zb2xlLmxvZyhldi50YXJnZXQpO1xuICBpZiAoZXYudGFyZ2V0ICYmIGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoRFJPUFBBQkxFX0NMQVNTKSkge1xuICAgIGV2LnRhcmdldC5hcHBlbmQoZWxlbWVudCk7XG4gIH1cbiAgaWYgKGVsZW1lbnQgIT09IGVsZW1lbnQpIGVsZW1lbnQucmVtb3ZlKCk7XG59XG5cblxuZnVuY3Rpb24gc2V0RGVmYXVsdEJlaGF2aW91cih0b2dnbGUpIHtcbiAgZGVmYXVsdEJlaGF2aW91ciA9IHRvZ2dsZTtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRCZWhhdmlvdXIoKSB7XG4gIHJldHVybiBkZWZhdWx0QmVoYXZpb3VyXG59O1xuZnVuY3Rpb24gc2V0RHJhZ0NhbGxCYWNrKGlucHV0KSB7XG4gIGlmKCFkcmFnQ2FsbEJhY2spIHtcbiAgICBkcmFnQ2FsbEJhY2sgPSBpbnB1dDtcbiAgfVxufTtcbmZ1bmN0aW9uIHNldERyb3BDYWxsQmFjayhpbnB1dCkge1xuICBpZighZHJvcENhbGxCYWNrKSB7XG4gICAgZHJvcENhbGxCYWNrID0gaW5wdXQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldE1vdmVDYWxsYmFjayhpbnB1dCkge1xuICBpZighbW92ZUNhbGxCYWNrKSB7XG4gICAgbW92ZUNhbGxCYWNrID0gaW5wdXQ7XG4gIH1cbn1cblxuXG5leHBvcnQge2RyYWdFbGVtZW50LCBzZXRFbGVtZW50UG9zdGlvbiwgc2V0RGVmYXVsdEJlaGF2aW91ciwgZ2V0RGVmYXVsdEJlaGF2aW91ciwgc2V0RHJhZ0NhbGxCYWNrLCBzZXRNb3ZlQ2FsbGJhY2ssIHNldERyb3BDYWxsQmFja31cbiIsImltcG9ydCB7XG4gIHNldERlZmF1bHRCZWhhdmlvdXIsXG4gIGRyYWdFbGVtZW50LFxuICBzZXRFbGVtZW50UG9zdGlvbixcbiAgc2V0RHJhZ0NhbGxCYWNrLFxuICBzZXRNb3ZlQ2FsbGJhY2ssXG4gIHNldERyb3BDYWxsQmFjayxcbn0gZnJvbSBcImRyYWctZHJvcC1zeXN0ZW1cIjtcbmltcG9ydCB7IHJlcXVlc3RCbG9jayB9IGZyb20gXCIuL2JvYXJkVUkuanNcIjtcbmltcG9ydCBjaGVja0Jsb2NrVmFsaWRpdHkgZnJvbSBcIi4vY2hlY2tCbG9ja1ZhbGlkaXR5LmpzXCI7XG5cbmxldCBldmVudCA9IG51bGw7XG5sZXQgZHJhZ2dlZEJsb2NrID0gbnVsbDtcblxuc2V0RGVmYXVsdEJlaGF2aW91cihmYWxzZSk7XG5zZXREcmFnQ2FsbEJhY2soZHJhZ0ZsZWV0KTtcbnNldE1vdmVDYWxsYmFjayhtb3ZlRmxlZXQpO1xuc2V0RHJvcENhbGxCYWNrKGRyb3BGbGVldCk7XG5cbmZ1bmN0aW9uIGRyYWdGbGVldChkcmFnRXYpIHtcbiAgZXZlbnQgPSBkcmFnRXY7XG4gIHJlcXVlc3RCbG9jayhkcmFnRXYudGFyZ2V0LCAoYmxvY2spID0+IHtcbiAgICBvblJlY2VpdmVCbG9ja0RyYWcoYmxvY2ssIGRyYWdFdi50YXJnZXQpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIG1vdmVGbGVldChtb3ZlRXYsIG1vdmVkRWxlbWVudCwgcG9zWCwgcG9zWSkge1xuICBpZiAobW92ZUV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJibG9ja1wiKSlcbiAgICByZXF1ZXN0QmxvY2sobW92ZUV2LnRhcmdldCwgKG1vdmVCbG9jaykgPT4ge1xuICAgICAgb25SZWNlaXZlQmxvY2tNb3ZlKG1vdmVCbG9jaywgbW92ZWRFbGVtZW50LCBwb3NYLCBwb3NZKTtcbiAgICB9KTtcbiAgZWxzZSBvblJlY2VpdmVCbG9ja01vdmUobnVsbCwgbW92ZWRFbGVtZW50LCBwb3NYLCBwb3NZKTtcbn1cbmZ1bmN0aW9uIGRyb3BGbGVldChkcm9wRXYsIGRyYWdnZWRFbGVtZW50KSB7XG4gIGV2ZW50ID0gbnVsbDtcbiAgY29uc3QgZHJvcEVsZW1lbnQgPSBkcm9wRXYudGFyZ2V0O1xuICBpZiAoZHJvcEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYmxvY2tcIikpXG4gICAgcmVxdWVzdEJsb2NrKGRyb3BFbGVtZW50LCAoZHJvcEJsb2NrKSA9PiB7XG4gICAgICBvblJlY2VpdmVCbG9ja0Ryb3AoZHJvcEVsZW1lbnQsIGRyYWdnZWRFbGVtZW50LCBkcm9wQmxvY2ssIGRyYWdnZWRCbG9jayk7XG4gICAgfSk7XG4gIGVsc2Ugb25SZWNlaXZlQmxvY2tEcm9wKGRyb3BFbGVtZW50LCBkcmFnZ2VkRWxlbWVudCwgbnVsbCwgZHJhZ2dlZEJsb2NrKTtcbn1cblxuZnVuY3Rpb24gb25SZWNlaXZlQmxvY2tEcmFnKGJsb2NrLCBlbGVtZW50KSB7XG4gIGRyYWdnZWRCbG9jayA9IGJsb2NrO1xuICBjb25zdCBmbGVldCA9IGJsb2NrLmdldFNoaXAuZ2V0RmxlZXQ7XG4gIGNvbnN0IGRpciA9IGZsZWV0LmdldERpcmVjdGlvbigpO1xuICBjb25zdCBhbGxTaGlwc0FyciA9IGZsZWV0LmdldFNoaXBzKCk7XG4gIGNvbnN0IGFsbFNoaXBzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmFwcGVuZChhbGxTaGlwc0VsZW1lbnQpO1xuXG4gIGFsbFNoaXBzQXJyLmZvckVhY2goKHNoaXApID0+IHtcbiAgICBjb25zdCBzaGlwRWxlbWVudCA9IHNoaXAuYmxvY2suZ2V0RE9NRWxlbWVudDtcbiAgICBjb25zdCBzaGlwRWxlbWVudENvcHkgPSBzaGlwRWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgc2hpcEVsZW1lbnRDb3B5LmNsYXNzTmFtZSA9IFwiZmxvYXR5LWJsb2NrXCI7XG4gICAgYWxsU2hpcHNFbGVtZW50LmFwcGVuZChzaGlwRWxlbWVudENvcHkpO1xuICB9KTtcbiAgY29uc29sZS5sb2coXCJjbG9uZVwiKTtcblxuICBsZXQgc2l6ZVggPSBnZXRDb21wdXRlZFN0eWxlKGFsbFNoaXBzRWxlbWVudCkud2lkdGg7XG4gIGxldCBzaXplWSA9IGdldENvbXB1dGVkU3R5bGUoYWxsU2hpcHNFbGVtZW50KS5oZWlnaHQ7XG4gIGxldCBkaXJTdHJpbmcgPSBcIlwiO1xuICBpZiAoZGlyKSB7XG4gICAgY29uc3QgdGVtcCA9IHNpemVYO1xuICAgIHNpemVYID0gc2l6ZVk7XG4gICAgc2l6ZVkgPSB0ZW1wO1xuICAgIGRpclN0cmluZyA9IFwicm93XCI7XG4gIH0gZWxzZSB7XG4gICAgZGlyU3RyaW5nID0gXCJjb2x1bW5cIjtcbiAgfVxuICBhbGxTaGlwc0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICBhbGxTaGlwc0VsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gIGFsbFNoaXBzRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gIGFsbFNoaXBzRWxlbWVudC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gYCR7ZGlyU3RyaW5nfWA7XG4gIGFsbFNoaXBzRWxlbWVudC5zdHlsZS53aWR0aCA9IHNpemVYO1xuICBhbGxTaGlwc0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gc2l6ZVk7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICB0YXJnZXQ6IGFsbFNoaXBzRWxlbWVudCxcbiAgICBwYWdlWDogZXZlbnQucGFnZVgsXG4gICAgcGFnZVk6IGV2ZW50LnBhZ2VZLFxuICAgIG9mZnNldFg6IHBhcnNlRmxvYXQoc2l6ZVgpIC8gMixcbiAgICBvZmZzZXRZOiBwYXJzZUZsb2F0KHNpemVZKSAvIDIsXG4gIH07XG5cbiAgZHJhZ0VsZW1lbnQob2JqKTtcbiAgb25SZWNlaXZlQmxvY2tNb3ZlKFxuICAgIGRyYWdnZWRCbG9jayxcbiAgICBhbGxTaGlwc0VsZW1lbnQsXG4gICAgb2JqLnBhZ2VYIC0gb2JqLm9mZnNldFgsXG4gICAgb2JqLnBhZ2VZIC0gb2JqLm9mZnNldFksXG4gICk7XG59XG5cbmZ1bmN0aW9uIG9uUmVjZWl2ZUJsb2NrTW92ZShtb3ZlQmxvY2ssIG1vdmVFbGVtZW50LCBwb3NYLCBwb3NZKSB7XG4gIGNvbnNvbGUubG9nKFwibW92aW5nXCIpO1xuICBsZXQgdmFsaWQgPSBmYWxzZTtcbiAgaWYgKG1vdmVCbG9jayAmJiBtb3ZlQmxvY2suZ2V0R2FtZUJvYXJkID09PSBkcmFnZ2VkQmxvY2suZ2V0R2FtZUJvYXJkKSB7XG4gICAgY29uc3QgcG9zID0gbW92ZUJsb2NrLmdldFBvcygpO1xuICAgIHZhbGlkID0gY2hlY2tCbG9ja1ZhbGlkaXR5KFxuICAgICAgZHJhZ2dlZEJsb2NrLmdldEdhbWVCb2FyZCxcbiAgICAgIGRyYWdnZWRCbG9jay5nZXRTaGlwLmdldEZsZWV0LFxuICAgICAgcG9zLFxuICAgICAgZHJhZ2dlZEJsb2NrLFxuICAgICk7XG4gIH1cbiAgaWYgKHZhbGlkKSB7XG4gICAgbW92ZUVsZW1lbnQuY2xhc3NOYW1lID0gXCJ2YWxpZC1mbG9hdHktc2hpcFwiO1xuICB9IGVsc2Uge1xuICAgIG1vdmVFbGVtZW50LmNsYXNzTmFtZSA9IFwiaW52YWxpZC1mbG9hdHktc2hpcFwiO1xuICB9XG4gIGNvbnNvbGUubG9nKFwiZGlkIHRoZSBqb2JcIik7XG4gIHNldEVsZW1lbnRQb3N0aW9uKG1vdmVFbGVtZW50LCBwb3NYLCBwb3NZKTtcbn1cblxuZnVuY3Rpb24gb25SZWNlaXZlQmxvY2tEcm9wKFxuICBkcm9wRWxlbWVudCxcbiAgZHJhZ2dlZEVsZW1lbnQsXG4gIGRyb3BCbG9jayxcbiAgZHJhZ2dlZEJsb2NrLFxuKSB7XG4gIGNvbnN0IGZsZWV0ID0gZHJhZ2dlZEJsb2NrLmdldFNoaXAuZ2V0RmxlZXQ7XG4gIGlmIChkcm9wQmxvY2spIHtcbiAgICBjb25zdCBwb3MgPSBkcm9wQmxvY2suZ2V0UG9zKCk7XG4gICAgY29uc3QgdmFsaWQgPSBjaGVja0Jsb2NrVmFsaWRpdHkoZHJhZ2dlZEJsb2NrLmdldEdhbWVCb2FyZCwgZmxlZXQsIHBvcyk7XG4gICAgaWYgKHZhbGlkKSB7XG4gICAgICBmbGVldC5pbml0aWFsaXplKHBvcyk7XG4gICAgfVxuICB9XG4gIGRyYWdnZWRFbGVtZW50LnJlbW92ZSgpO1xuICBkcmFnZ2VkQmxvY2sgPSBudWxsO1xufVxuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCBcIi4vVUkuanNcIjtcbmltcG9ydCBcImRyYWctZHJvcC1zeXN0ZW1cIjtcbmltcG9ydCBcIi4vZHJhZ0FuZERyb3BTaGlwLmpzXCI7XG5pbXBvcnQgeyBzdGFydFBsYXllclZzUm9ib3QgfSBmcm9tIFwiLi9wbGF5ZXJWU1JvYm90LmpzXCI7XG5cbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCAoZXYpID0+IHtcbiAgZXYucHJldmVudERlZmF1bHQoKTtcbn0pO1xuXG5zdGFydFBsYXllclZzUm9ib3QoKTtcbiIsImZ1bmN0aW9uIGdldFJhbmRvbUFyYml0cmFyeUZsb2F0KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG59XG5mdW5jdGlvbiBnZXRSYW5kb21BcmJpdHJhcnlJbnQobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcbn1cblxuZXhwb3J0IHsgZ2V0UmFuZG9tQXJiaXRyYXJ5SW50LCBnZXRSYW5kb21BcmJpdHJhcnlGbG9hdCB9O1xuIiwiZnVuY3Rpb24gSW52b2tlV2l0RGVsYXkodGltZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbnZva2VXaXREZWxheTtcbiIsImZ1bmN0aW9uIHJlbW92ZVVuYXZhaWxhYmxlQmxvY2tzKGF2YWlsYWJsZUFyciwgYmxvY2tzQXJyKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgaW5kZXggPSBhdmFpbGFibGVBcnJbaV07XG4gICAgaWYgKGJsb2Nrc0FycltpbmRleF0uaXNTYWZlIHx8IGJsb2Nrc0FycltpbmRleF0uaXNBdHRhY2tlZCkge1xuICAgICAgYXZhaWxhYmxlQXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVtb3ZlVW5hdmFpbGFibGVCbG9ja3M7XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJ4IiwieSIsImdhbWVCb2FyZCIsInRoaXMiLCJnZXRQb3MiLCJnZXRHYW1lQm9hcmQiLCJpc0F0dGFja2VkIiwiaXNTYWZlIiwiaXNIYXZlU2hpcCIsImdldFNoaXAiLCJnZXRET01FbGVtZW50IiwiYXR0YWNrIiwiYm90IiwiaXNDbGlja2FibGUiLCJjb25zb2xlIiwiZXJyb3IiLCJzaW5rIiwiaGFzQmVlbkF0dGFja2VkIiwiY2FsbERPTVVwZGF0ZUNhbGxiYWNrIiwibWFya1NhZmUiLCJwbGFjZVNoaXAiLCJzaGlwIiwiYWRkU2hpcCIsImZsZWV0SGFzU2FuayIsInJlbW92ZVNoaXAiLCJsb3NlU2hpcCIsInNldERPTUluZm8iLCJlbGVtZW50IiwiY2FsbGJhY2siLCJncmlkQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVxdWVzdEJsb2NrIiwiZmFsbGJhY2siLCJibG9ja1JlcXVlc3RFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwibG9nIiwiZGlzcGF0Y2hFdmVudCIsImJvYXJkIiwicG9zIiwiY3Jvc3MiLCJsaW5lYXIiLCJzb3Jyb3VuZGluZ3MiLCJBcnJheSIsInJpZ2h0IiwiZ2V0QmxvY2siLCJwdXNoIiwibGVmdCIsInVwIiwiZG93biIsInVwcGVyUmlnaHQiLCJ1cHBlckxlZnQiLCJib3R0b21SaWdodCIsImJvdHRvbUxlZnQiLCJHYW1lQm9hcmQiLCJjbGlja2FibGUiLCJzaGlwc0hpZGRlbiIsImVkaXRhYmxlIiwiZGltZW5zaW9ucyIsImxlbmd0aCIsImJsb2NrcyIsImhpdENhbGxiYWNrIiwiRE9NQ2FsbGJhY2siLCJzaGlwc0NvdW50IiwiZGVzdHJveWVkU2hpcHNDb3VudCIsImNsZWFyZWQiLCJhY3RpdmUiLCJjb3VudCIsImJsb2NrIiwiQmxvY2siLCJnZXRBcnJheSIsImluaXRpYWxpemVHcmlkIiwiaXNTaGlwc0hpZGRlbiIsImlzRmluaXNoZWQiLCJpc0FjdGl2ZSIsImlzRWRpdGFibGUiLCJnZXREaW1lbnNpb25zIiwiZ2V0TGVuZ3RoIiwiZmlsdGVyIiwiZmluZCIsIml0ZW0iLCJyZWFkeSIsImJvYXJkRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJzZXRET01DYWxsYmFjayIsInJlbW92ZUF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInVwZGF0ZUJvYXJkRWxlbWVudCIsImZvckVhY2giLCJuZXdFbGVtZW50IiwiZWxlbWVudFNpZ24iLCJpc1NhbmsiLCJpc0ZsZWV0U2FuayIsInVwZGF0ZUJsb2NrRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImNyZWF0ZUdyaWRVSSIsInVwZGF0ZUFMTEJsb2Nrc1VJIiwiY2FsbERPTUNhbGxiYWNrIiwic2V0Qm9hcmRTdGF0ZSIsImdyaWROZWVkVXBkYXRlIiwiYmxvY2tzTmVlZFVwZGF0ZSIsIm1hcmtTYWZlQmxvY2tzIiwiYXJncyIsImNhbGxIaXRDYWxsYmFjayIsInNldEhpdENhbGxiYWNrIiwiZ2V0U29ycm91bmRpbmdCbG9ja3MiLCJFcnJvciIsImZsZWV0IiwibXlCbG9jayIsImdldEZsZWV0IiwiaG9yaXpvbnRhbCIsImdldFNoaXBzIiwiZ2V0RGlyZWN0aW9uIiwiaW5pdGlhbGl6ZSIsIm9jY3VweUJsb2NrcyIsImNhbGN1bGF0ZUJsb2Nrc1RvVGFrZSIsImJsb2Nrc1RvVGFrZSIsImN1clgiLCJjdXJZIiwiTWF0aCIsImZsb29yIiwiaSIsInJldHJlYXQiLCJuZXdTaGlwIiwiU2hpcCIsInZhbGlkIiwiYmxvY2tUb1Rha2UiLCJzb3Jyb3VuZGluZ0Jsb2NrIiwicmFuZG9tUG9zaXRpb24iLCJ0cmllZENvb3JkcyIsInJhbmRvbUluZGV4IiwicmFuZG9tIiwiY2hlY2tCbG9ja1ZhbGlkaXR5Iiwic3BsaWNlIiwiZmxlZXRzIiwiY3JlYXRlR2FtZUJvYXJkIiwibmV3R2FtZUJvYXJkIiwiY291bnRlciIsIkluaXRpYWxpemUiLCJyYW5kb21PcmllbnRhdGlvbiIsIm5ld0ZsZWV0IiwiRmxlZXQiLCJyYW5kb21Qb3MiLCJjaG9vc2VSZWxhdGl2ZUJsb2NrIiwidHJpZWRCbG9ja3MiLCJwb3NzaWJsZUJsb2NrcyIsImF0dGFja2VkQmxvY2tzIiwidHJpZWQiLCJyYW5kb21CbG9jayIsInBsYXllckJvYXJkIiwiYm90Qm9hcmQiLCJwbGF5ZXJUdXJuIiwiYm90VHVybiIsInBsYXkiLCJFbmQiLCJ3aW5uZXIiLCJzdGFydEJ0biIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwibWVzc2FnZSIsImZvbnRXZWlnaHQiLCJ0ZXh0Q29udGVudCIsImNvbG9yIiwiVUlHYW1lRW5kIiwibGlzdGVuZXIiLCJyZW1vdmUiLCJ0cmlnZ2VyIiwiT25Nb3VzZU1vdmUiLCJDU2hhcnBFdmVudCIsIk9uTW91c2VVcCIsIk9uTW91c2VEb3duIiwiYm9keSIsIkRST1BQQUJMRV9DTEFTUyIsImRyYWdDYWxsQmFjayIsImRyb3BDYWxsQmFjayIsIm1vdmVDYWxsQmFjayIsImRlZmF1bHRCZWhhdmlvdXIiLCJoYW5kbGVNb3ZlIiwicG9zWCIsInBvc1kiLCJzZXRFbGVtZW50UG9zdGlvbiIsImRyYWdFbGVtZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9uZU5vZGUiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImJlaW5nRHJhZ2dlZCIsIm9uRHJhZyIsInBhZ2VYIiwicGFnZVkiLCJvbkRyYWdFbmQiLCJwb3NpdGlvbiIsInBvaW50ZXJFdmVudHMiLCJkcm9wRWxlbWVudCIsImhhbmRsZURyb3AiLCJoZWlnaHQiLCJ0b3AiLCJldmVudCIsImRyYWdnZWRCbG9jayIsImlucHV0Iiwib25SZWNlaXZlQmxvY2tNb3ZlIiwibW92ZUJsb2NrIiwibW92ZUVsZW1lbnQiLCJvblJlY2VpdmVCbG9ja0Ryb3AiLCJkcmFnZ2VkRWxlbWVudCIsImRyb3BCbG9jayIsImRyYWdFdiIsImRpciIsImFsbFNoaXBzQXJyIiwiYWxsU2hpcHNFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInNoaXBFbGVtZW50Q29weSIsInNpemVYIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIndpZHRoIiwic2l6ZVkiLCJkaXJTdHJpbmciLCJ0ZW1wIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJvYmoiLCJwYXJzZUZsb2F0Iiwib25SZWNlaXZlQmxvY2tEcmFnIiwibW92ZUV2IiwibW92ZWRFbGVtZW50IiwiZHJvcEV2IiwicHJldmVudERlZmF1bHQiLCJhdHRhY2tlZEFTaGlwIiwibXlCb2FyZCIsIm9wcG9uZW50Qm9hcmQiLCJhdmFpbGFibGVCbG9ja3MiLCJkZWxheSIsIm1pbiIsIm1heCIsInRpbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0aGVuIiwiY2hvc2VuQmxvY2siLCJhdXRvUGxheWVyIiwiYXZhaWxhYmxlQXJyIiwiYmxvY2tzQXJyIiwiaW5kZXgiLCJyZW1vdmVVbmF2YWlsYWJsZUJsb2NrcyIsImdldEF2YWlsYWJsZUJsb2NrcyIsImxhc3RBdHRhY2tlZFZhbHVlIiwiZ2V0TGFzdEF0dGFja2VkIiwidGFyZ2V0QmxvY2tWYWx1ZSIsImdldFRhcmdldEJsb2NrIiwiYXJyIiwidmFsdWUiLCJjaG9vc2VSYW5kb21CbG9jayIsImNob3NlQmxvY2siLCJzZXRMYXN0QXR0YWNrZWQiLCJzZXRUYXJnZXRCbG9jayIsInN0YXRlIl0sInNvdXJjZVJvb3QiOiIifQ==